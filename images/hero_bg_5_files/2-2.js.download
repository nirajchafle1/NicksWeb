webpackJsonp([2],{145:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(17),i=n.n(a),o=n(31),r=n.n(o),s=n(42),d=n.n(s),c=n(912),l=n.n(c),u=n(13),f=n(918),h=n(99),p=n(917),m=n(649),v=n(942),g=n(943),y=n(941),b=n(947),w=n(946),_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var C=["mobile","tablet","narrow-desktop"];function updateNavShareLinks(t){var e=t.data();Object.keys(e).forEach(function(t){if(0===t.indexOf("socialHref")){var n=t.substring(10).toLowerCase(),a=i()(".contextual-social-links .icon.icon-"+n);if(a.length)a.find("a").attr("href",e[t])}})}var k=function(){function AutoAdvance(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,AutoAdvance),this.$articles=t,this.loadedArticles=0,this.isLoading=!1,this.topThree=t.data("auto").split(","),this.trackedArticles=[0]}return x(AutoAdvance,[{key:"events",value:function(){var t=this;r()(u.m).subscribe(function(){return t.renderArticle()})}},{key:"renderArticle",value:function(){var t=this;if(this.$articles.length&&("gallery"!==this.$articles.data("type")||-1!==C.indexOf(n.i(h.a)()))){var e=i()(".article-main-header");if(e.length&&l.a.inView(e.find("h1"))&&!e.hasClass("pathLoaded")&&this.loadedArticles>0&&(this.changePath(e),this.updateContentGraphId(e),updateNavShareLinks(e)),!(this.loadedArticles>2||this.isLoading||this.$articles.hasClass("no-load"))&&l.a.partiallyInView(i()(".footer-test"))){var a=this.topThree[this.loadedArticles],o=n.i(m.a)("/element-api/content-proxy/autoadvance"),s=n.i(f.a)({id:a,html:!0,autoadvance:!0});this.isLoading=!0,this.$articles.find(".loader").removeClass("hidden"),i.a.get(o,s,function(e){if(e.status&&"error"===e.status||"object"===_(e.data))return t.$articles.addClass("no-load"),t.$articles.find(".loader").addClass("hidden"),void(t.isLoading=!1);var a=i()(e);t.$articles.find(".lazy-content").append(a),t.$articles.find(".lazy-partial").addClass("rendered");var o=a.find(".jumpstart-video"),s=a.find(".main-header");if(o.length&&(window.bcJumpstart||n.i(b.a)(),window.bcJumpstart)){var c=i()(".jumpstart-video").index(o);-1!==c&&window.bcJumpstart.start(window.bcJumpstart.players[c])}s.length&&r()(u.m).subscribe(function(){l.a.inView(s.find("h1"))&&!s.hasClass("pathLoaded")&&(t.changePath(s),t.updateContentGraphId(s),updateNavShareLinks(s))});try{void 0!==window.instgrm&&window.instgrm.Embeds.process()}catch(t){}r()(u.E).broadcast(a),function(){n.i(p.a)();var t=document.getElementById("div-gpt-mob-adhesive-banner-fixed")||document.querySelector('div[id^="div-gpt-lazy-mob-adhesive-banner-fixed"]'),e=document.querySelector(".adhesion-ad-container");null!==t&&null!==e&&d.a.isFunction(window.karma.destroySlot)&&d.a.isFunction(window.karma.createSlot)&&(window.karma.destroySlot(t.id),e.removeChild(e.firstElementChild),window.karma.createSlot("div-gpt-lazy-mob-adhesive-banner-fixed-tier1",e,!0).setAttribute("tabindex","-1"))}(),function(){var t=document.querySelectorAll(".karma-auto-advance-placeholder:not(.processed)")||[];if(t.length){var e=n.i(h.a)()||"",a=d.a.includes(e,"desktop")?"desktop":e;n.i(p.a)(),t.forEach(function(t){var e=t,n=e.dataset,i=n.breakpoints,o=n.slotType,r=n.tier||"1";e.classList.add("processed"),d.a.includes(i,a)&&d.a.isFunction(window.karma.createSlot)&&window.karma.createSlot(o+"-tier"+r,e,!1).setAttribute("tabindex","-1")}),d.a.isFunction(window.karma.fillSlots)&&window.karma.fillSlots(),d.a.get(window,"karma.config.docking.rail")&&window.karma.rebuildRails()}}(),n.i(w.a)(),n.i(v.a)(),n.i(g.a)(),n.i(y.a)(),t.loadedArticles+=1}).fail(function(){t.$articles.addClass("no-load"),t.$articles.find(".loader").addClass("hidden"),t.isLoading=!1}).done(function(){t.$articles.find(".loader").addClass("hidden"),t.isLoading=!1})}}}},{key:"updateContentGraphId",value:function(t){var e=t.closest(".lazy-partial").attr("data-content-graph-id");e&&(this.currentContentGraphId=e,i()(document.body).attr("data-content-graph-id",e))}},{key:"changePath",value:function(t){var e=t.data("path"),a=t.closest(".lazy-partial").index()+1,o=t.closest(".two-col-container, .gallery-main-container").find(".auto-advance-segment-values .keyvals").data();if(o||(a=0,o=i()("#page-segment-values .keyvals").data()),o.autoadvance=!0,o.pos=a,a&&(o.auto_advance=o.content_type+" "+a),e){e=0===e.indexOf("/")?e:"/"+e,i()(".main-header").removeClass("pathLoaded"),t.addClass("pathLoaded");for(var s=i()(document).find(".article-content"),d=0;d<s.length;d+=1)d!==a?i()(s[d]).addClass("autoAdvancePrintStyle"):i()(s[d]).removeClass("autoAdvancePrintStyle");window.history.replaceState(null,document.title,e+document.location.search),this.trackedArticles.includes(a)||(this.trackedArticles.push(a),r()(u.e).broadcast(o),r()(u.g).broadcast(o)),this.currentPath=e,"string"!=typeof o.karma_id&&"number"!=typeof o.karma_id||(n.i(p.a)(),window.karma.cmd.push(function(){window.karma.updateTargeting({id:o.karma_id})}))}}},{key:"init",value:function(){this.events()}}]),AutoAdvance}();e.default=function(){i()(".component.auto-advance").each(function(){var t=i()(this);new k(t).init()})}},161:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(42),i=n.n(a),o=n(840);e.default=function(){var t="facebook-script";if(!document.getElementById(t)){var e=document.createElement("div");e.id="fb-root";var n=document.createElement("script");n.id=t,n.text="(function(d, s, id) {\n      var js, fjs = d.getElementsByTagName(s)[0];\n      if (d.getElementById(id)) return;\n      js = d.createElement(s); js.id = id;\n      js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.2\";\n      fjs.parentNode.insertBefore(js, fjs);\n    }(document, 'script', 'facebook-jssdk'));",document.body.appendChild(e),document.body.appendChild(n)}var a=document.getElementsByClassName("js-embed-facebook");i.a.forEach(a,function(t){t.childNodes.length||o.a.get(t)})}},162:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(17),i=n.n(a),o=n(42),r=n.n(o),s=n(31),d=n.n(s),c=n(13),l=n(840);e.default=function(){var t="instagram-script";if(!document.getElementById(t)){var e=document.createElement("script");e.id=t,e.async=!0,e.defer=!0,e.src="//platform.instagram.com/en_US/embeds.js",document.body.appendChild(e)}window.__igEmbedLoaded=function(t){var e=i()("#"+t.frameId);d()(c._14).broadcast(e),e.ready(function(){d()(c._14).broadcast(e)})};var n=document.getElementsByClassName("js-embed-instagram");r.a.forEach(n,function(t){t.childNodes.length||l.a.get(t)})}},165:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(42),i=n.n(a),o=n(840);e.default=function(){var t="twitter-script";if(!document.getElementById(t)){var e=document.createElement("script");e.id=t,e.src="//platform.twitter.com/widgets.js",document.body.appendChild(e)}var n=document.getElementsByClassName("js-embed-twitter");i.a.forEach(n,function(t){t.childNodes.length||o.a.get(t)})}},216:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(17),i=n.n(a),o=n(42),r=n.n(o),s=n(13),d=n(31),c=n.n(d),l=n(649),u=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();var f=function(){function UgcPhotoUpload(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,UgcPhotoUpload),this.$context=t,this.$photoUploadComponent=t.find(".component.ugc-photo-upload"),this.$alert=t.find(".alert-banner"),this.$uploadedImg=t.find(".js--uploadedImage"),this.$fileInput=t.find(".js--fileInput"),this.$favoriteModalLink=i()(".shareicon-favorite-link"),this.contentId=this.$favoriteModalLink.data("content-id"),this.photoUpload={photoId:null,photoUrl:null,step:{getPhotoId:"get_photo_id",uploadPhoto:"photo_upload"}}}return u(UgcPhotoUpload,[{key:"readUrl",value:function(){var t=this;if(this.$fileInput[0].files&&this.$fileInput[0].files[0]){var e=new FileReader;e.onload=function(e){r.a.set(t.$uploadedImg,"[0].style.backgroundImage","url("+e.target.result+")")},e.readAsDataURL(this.$fileInput[0].files[0])}}},{key:"showError",value:function(t){this.$alert.removeClass("hidden"),this.$alert.find(".alert-text").text(t)}},{key:"hideError",value:function(){this.$alert.addClass("hidden"),this.$alert.find(".alert-text").text("")}},{key:"photoUploadStatus",value:function(t){t?this.$photoUploadComponent.addClass("uploaded"):this.$photoUploadComponent.removeClass("uploaded")}},{key:"uploadPhoto",value:function(t){var e=this,a=t,o=n.i(l.a)("/element-api/content-proxy/photo-upload");i.a.post(o,a,function(n,a){"success"===a&&(e.hideError(),t.type===e.photoUpload.step.getPhotoId&&(r.a.get(n,"photoId")&&(e.photoUpload.photoId=r.a.get(n,"photoId"),e.photoUpload.photoUrl=r.a.get(n,"imageDestinationUrl")),c()(s.x).broadcast()),t.type===e.photoUpload.step.uploadPhoto&&e.photoUploadStatus(!0))}).fail(function(t,n,a){t.responseJSON&&t.responseJSON.message.includes("dimensions")?(e.showError(t.responseJSON.message),r.a.set(e.$uploadedImg,"[0].style.backgroundImage","")):e.showError("Error submitting. Please try again."),e.photoUploadStatus(!1)})}},{key:"photoMetaData",value:function(t){return{type:t,filename:this.$fileInput[0].value.replace(/.*[\/\\]/,""),contentId:this.contentId}}},{key:"photoUploadData",value:function(t){return{type:t,photoId:this.photoUpload.photoId,photoData:r.a.get(this.$uploadedImg,"[0].style.backgroundImage"),contentId:this.contentId}}},{key:"events",value:function(){var t=this;c()(s.y).subscribe(function(e,n){var a=t.photoMetaData(t.photoUpload.step.getPhotoId);t.uploadPhoto(a)}),c()(s.x).subscribe(function(e,n){var a=t.photoUploadData(t.photoUpload.step.uploadPhoto);t.uploadPhoto(a)}),this.$fileInput.on("change",function(){t.$fileInput[0].value&&(t.readUrl(t.$fileInput[0],t.$uploadedImg),c()(s.y).broadcast())})}},{key:"init",value:function(){this.events()}}]),UgcPhotoUpload}();e.default=function(){i()(".component.ugc-upload-with-photo").each(function(){new f(i()(this)).init()})}},221:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(17),i=n.n(a),o=n(649);e.default=function(){var t=document.querySelector(".jumpstart-video-data").getAttribute("data-jumpstart-version"),e=document.createElement("script");e.src="https://cdn.video.timeinc.com/jumpstart/"+t+"/js/jumpstart.min.js",e.async=!0,document.body.appendChild(e);var a,r,s=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(document.querySelectorAll("video[data-video-id]"))).map(function(t){return t.dataset.videoId}).filter(function(t){return t});a=s,r=n.i(o.a)("/element-api/content-proxy/structured-data"),i.a.get(r,{type:"video",ids:a},function(t){if("error"!==t.status){var e=document.createElement("script");e.setAttribute("type","application/ld+json"),e.innerText=t,document.head.appendChild(e)}})}},649:function(t,e,n){"use strict";e.a=function(t){if(r()(document.body).data("add-slash")&&!i.a.endsWith(t,"/"))return t+"/";return t};var a=n(42),i=n.n(a),o=n(17),r=n.n(o)},840:function(t,e,n){"use strict";var a={instagram:function(t){return"https://api.instagram.com/oembed?url=https://instagr.am/p/"+t+"/&omitscript=true&maxwidth=600"},twitter:function(t){return"https://api.twitter.com/1/statuses/oembed.json?url=https://twitter.com/twitter/status/"+t+"&omitscript=true&maxwidth=520&align=center"},"facebook-post":function(t){return"https://apps.facebook.com/plugins/post/oembed.json/?url="+t+"&omitscript=true"},"facebook-video":function(t){return"https://apps.facebook.com/plugins/video/oembed.json/?url="+t+"&omitscript=true"}};e.a={get:function(t){var e=t,n=t.dataset.embedType,i=new XMLHttpRequest,o=void 0;t.dataset.embedId?o=a[n](encodeURIComponent(t.dataset.embedId)):t.dataset.embedUrl&&(o=a[n](encodeURIComponent(t.dataset.embedUrl))),i.open("GET","https://dfxzeh0f5bej2.cloudfront.net/"+o,!0),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var t=JSON.parse(i.responseText);t.html&&(e.innerHTML=t.html,"twitter"===n&&void 0!==window.twttr?window.twttr.widgets.load(e):"instagram"===n&&void 0!==window.instgrm&&window.instgrm.Embeds.process())}},i.send(null)}}},912:function(t,e,n){var a;a=n(17),t.exports={inView:function(t){var e,n,i;return e=(n=a(window).scrollTop())+a(window).height(),(i=a(t).offset().top)+a(t).height()<=e&&i>=n},partiallyInView:function(t){var e,n,i,o;return!!t.is(":visible")&&(e=(n=a(window).scrollTop())+a(window).height(),i=(o=a(t).offset().top)+a(t).height(),o>=n&&o<=e||i>=n&&i<=e)}}},917:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a=function(){window.karma=window.karma||{},window.karma.cmd=window.karma.cmd||[]}},918:function(t,e,n){"use strict";e.a=function(t){if(window.analytics&&window.analytics.user&&window.analytics.user().traits){var e=window.analytics.user().traits().timeIncId;return e?Object.assign(t,{muid:e}):t}return t}},919:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(17),i=n.n(a),o=n(42),r=n.n(o),s=n(31),d=n.n(s),c=n(912),l=n.n(c),u=n(13),f=n(100);i()(document).ready(function(){var t=!1;if(i()(".component.saga").length){var e=f.a.data(),n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.analytics&&t&&!r.a.isEmpty(e)&&window.analytics.track(t,e)};d()(u.m).subscribe(function(){if(l.a.inView(i()(".component.saga"))){var a={eventName:"Impression",label:"Timeline Module"};a=Object.assign({},e,a),t||(n("Impression",a),t=!0)}else t=!1}),d()(u.d).subscribe(function(t,a){if(a.parents().eq(1).hasClass("saga-ribbon__detail")||a.parent().hasClass("saga-ribbon__count")){var i=a.closest("a").data();i=Object.assign({},e,i),n("Content Action Taken",i)}})}})},924:function(t,e,n){var a,i,o,r;r=function(t){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0});var e=!1;if("undefined"!=typeof window){var n={get passive(){e=!0}};window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}var a="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),i=[],o=!1,s=-1,d=void 0,c=void 0,l=function(t){return i.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})},u=function(t){var e=t||window.event;return!!l(e.target)||1<e.touches.length||(e.preventDefault&&e.preventDefault(),!1)},f=function(){setTimeout(function(){void 0!==c&&(document.body.style.paddingRight=c,c=void 0),void 0!==d&&(document.body.style.overflow=d,d=void 0)})};t.disableBodyScroll=function(t,n){if(a){if(!t)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(t&&!i.some(function(e){return e.targetElement===t})){var f={targetElement:t,options:n||{}};i=[].concat(r(i),[f]),t.ontouchstart=function(t){1===t.targetTouches.length&&(s=t.targetTouches[0].clientY)},t.ontouchmove=function(e){var n,a,i,o;1===e.targetTouches.length&&(a=t,o=(n=e).targetTouches[0].clientY-s,!l(n.target)&&(a&&0===a.scrollTop&&0<o?u(n):(i=a)&&i.scrollHeight-i.scrollTop<=i.clientHeight&&o<0?u(n):n.stopPropagation()))},o||(document.addEventListener("touchmove",u,e?{passive:!1}:void 0),o=!0)}}else{p=n,setTimeout(function(){if(void 0===c){var t=!!p&&!0===p.reserveScrollBarGap,e=window.innerWidth-document.documentElement.clientWidth;t&&0<e&&(c=document.body.style.paddingRight,document.body.style.paddingRight=e+"px")}void 0===d&&(d=document.body.style.overflow,document.body.style.overflow="hidden")});var h={targetElement:t,options:n||{}};i=[].concat(r(i),[h])}var p},t.clearAllBodyScrollLocks=function(){a?(i.forEach(function(t){t.targetElement.ontouchstart=null,t.targetElement.ontouchmove=null}),o&&(document.removeEventListener("touchmove",u,e?{passive:!1}:void 0),o=!1),i=[],s=-1):(f(),i=[])},t.enableBodyScroll=function(t){if(a){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,i=i.filter(function(e){return e.targetElement!==t}),o&&0===i.length&&(document.removeEventListener("touchmove",u,e?{passive:!1}:void 0),o=!1)}else(i=i.filter(function(e){return e.targetElement!==t})).length||f()}},i=[e],void 0===(o="function"==typeof(a=r)?a.apply(e,i):a)||(t.exports=o)},941:function(t,e,n){"use strict";var a=n(42),i=n.n(a),o=n(840);e.a=function(){var t="facebook-script";if(!document.getElementById(t)){var e=document.createElement("div");e.id="fb-root";var n=document.createElement("script");n.id=t,n.text="(function(d, s, id) {\n      var js, fjs = d.getElementsByTagName(s)[0];\n      if (d.getElementById(id)) return;\n      js = d.createElement(s); js.id = id;\n      js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.2\";\n      fjs.parentNode.insertBefore(js, fjs);\n    }(document, 'script', 'facebook-jssdk'));",document.body.appendChild(e),document.body.appendChild(n)}var a=document.getElementsByClassName("js-embed-facebook");i.a.forEach(a,function(t){t.childNodes.length||o.a.get(t)})}},942:function(t,e,n){"use strict";var a=n(17),i=n.n(a),o=n(42),r=n.n(o),s=n(31),d=n.n(s),c=n(13),l=n(840);e.a=function(){var t="instagram-script";if(!document.getElementById(t)){var e=document.createElement("script");e.id=t,e.async=!0,e.defer=!0,e.src="//platform.instagram.com/en_US/embeds.js",document.body.appendChild(e)}window.__igEmbedLoaded=function(t){var e=i()("#"+t.frameId);d()(c._14).broadcast(e),e.ready(function(){d()(c._14).broadcast(e)})};var n=document.getElementsByClassName("js-embed-instagram");r.a.forEach(n,function(t){t.childNodes.length||l.a.get(t)})}},943:function(t,e,n){"use strict";var a=n(42),i=n.n(a),o=n(840);e.a=function(){var t="twitter-script";if(!document.getElementById(t)){var e=document.createElement("script");e.id=t,e.src="//platform.twitter.com/widgets.js",document.body.appendChild(e)}var n=document.getElementsByClassName("js-embed-twitter");i.a.forEach(n,function(t){t.childNodes.length||o.a.get(t)})}},946:function(t,e,n){"use strict";var a=n(17),i=n.n(a),o=n(31),r=n.n(o),s=n(42),d=n.n(s),c=n(924),l=(n.n(c),n(13)),u=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n(919);var f=864e5,h=30*f,p=15,m=function(){function Saga(t){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Saga),this.render=this.render.bind(this),this.positionContainer=this.positionContainer.bind(this),this.nextSlide=this.nextSlide.bind(this),this.prevSlide=this.prevSlide.bind(this),this.$context=t,this.$toutContainer=this.$context.find(".saga-timeline__tout-container"),this.$timeline=this.$context.find(".saga-timeline__timeline"),this.$prev=this.$context.find(".saga-timeline__prev-container"),this.$next=this.$context.find(".saga-timeline__next-container"),this.$prevButton=this.$context.find(".saga-timeline__prev-container .saga-timeline__prev"),this.$nextButton=this.$context.find(".saga-timeline__next-container .saga-timeline__next"),this.toutWidth=this.$toutContainer.children().first().outerWidth(),this.toutWidthOffset=2*parseInt(this.$toutContainer.children().first().css("marginLeft"),10),this.postIds=Array.from(this.$toutContainer.find(".saga-timeline__tout")).map(function(t){return i()(t).data("post-id")}),this.activeIndex=this.postIds.indexOf(this.$context.data("post-id")),this.maxIndex=this.$toutContainer.data().slideLength-1,this.dates=Array.from(this.$toutContainer.find(".saga-timeline__tout .saga-timeline__tout-date")).map(function(t){return 1e3*parseInt(t.dataset.date,10)}),this.days=this.dates.map(function(t){return Math.floor(t/f)}),this.differences=this.days.slice(1).map(function(t,n){return t-e.days[n]}),this.minTimeDifference=Math.min.apply(null,this.differences.filter(function(t){return t>0&&!isNaN(t)})),this.timeToPixelRatio=p/(this.minTimeDifference*f)}return u(Saga,[{key:"render",value:function(){var t=this;this.positionContainer();var e=new Date(parseInt(this.$context.attr("data-since"),10)),a=new Date(Math.max.apply(null,this.dates));0!==i()(".component.saga-timeline").length&&i()(".component.feed.bottom-recirc").hide(),i()(".saga-timeline__count .since-date").html(e.toLocaleString("en-us",{month:"short"})+" "+e.getFullYear());var o=[];if(this.minTimeDifference<h/4)for(var s=new Date(e.setMonth(e.getMonth()-1)),u=new Date(a.setMonth(a.getMonth()+1));s<u;)o.push("<div class='saga-timeline__date' style='left: "+(s-Math.min.apply(Math,_toConsumableArray(this.dates)))*this.timeToPixelRatio+"px'>\n          "+s.toLocaleDateString("en-us",{month:"short"})+" "+s.getFullYear()+"\n        </div>"),s=new Date(s.setMonth(s.getMonth()+1));else for(var p=new Date(e.setYear(e.getFullYear()-1)),m=new Date(a.setYear(a.getFullYear()+1));p<m;)o.push("<div class='saga-timeline__date' style='left: "+(p-Math.min.apply(Math,_toConsumableArray(this.days)))*this.timeToPixelRatio+"px'>\n          "+p.getFullYear()+"\n        </div>"),p=new Date(p.setYear(p.getFullYear()+1));i()(".saga-timeline__timeline-dates").html(o.join(""));var v=this.dates.map(function(t){return Math.floor(t/f)});this.$context.find(".saga-timeline__event").each(function(e,n){i()(n).css("left",(v[e]-Math.min.apply(Math,_toConsumableArray(v)))*t.timeToPixelRatio*f+"px");var a=d.a.countBy(v.slice(e))[Math.floor(v[e])];a>1&&(i()(n).addClass("saga-timeline__event-ring"),i()(n).css({height:12*(a-1)+10+"px",width:12*(a-1)+10+"px","border-width":"2px","border-style":"solid",background:"black","z-index":""+(10-a),padding:0}))}),i()(".saga-timeline__tout-date").each(function(t,e){var n=new Date(1e3*parseInt(e.dataset.date,10));i()(e).html(n.getMonth()+1+"."+n.getDate()+"."+n.getFullYear())}),this.$toutContainer.on("touchstart",function(e){t.$toutContainer.css("transition","none"),t.touchCoordinate=e.touches[0].clientX,t.currentOffset=Number(t.$toutContainer.css("margin-left").replace("px","")),n.i(c.disableBodyScroll)(t.$toutContainer)}),this.$toutContainer.on("touchmove",function(e){t.$toutContainer.css("margin-left",t.currentOffset+(e.targetTouches[0].clientX-t.touchCoordinate)+"px")}),this.$toutContainer.on("touchend touchcancel",function(){n.i(c.enableBodyScroll)(t.$toutContainer),Number(t.$toutContainer.css("margin-left").replace("px",""))-t.currentOffset>25&&t.activeIndex>0?(t.prevSlide(),Saga.trackScroll()):Number(t.$toutContainer.css("margin-left").replace("px",""))-t.currentOffset<-25&&t.activeIndex<t.$toutContainer.find(".saga-timeline__tout").length-1?(t.nextSlide(),Saga.trackScroll()):(n.i(c.enableBodyScroll)(t.$toutContainer),t.positionContainer())}),r()(l.d).subscribe(function(e,n){if(n.closest(t.$next).length)t.nextSlide(),n.closest(t.$nextButton).length||(Saga.trackScroll(),t.nextSlide());else if(n.closest(t.$prev).length)t.prevSlide(),n.closest(t.$prevButton).length||(Saga.trackScroll(),t.prevSlide());else if(n.closest(".saga-timeline__tout-container a").length){var a=n.closest(".saga-timeline__tout-container a"),o=i()(".saga-timeline__tout").index(a).parent().parent();o===t.activeIndex-1&&(e.stopPropagation(),e.preventDefault(),t.prevSlide()),o===t.activeIndex+1&&(e.stopPropagation(),e.preventDefault(),t.nextSlide())}else if(n.closest(".saga-timeline__event").length){var r=n.closest(".saga-timeline__event");t.activeIndex=t.$timeline.children(".saga-timeline__event").index(r),t.positionContainer()}}),i()(".saga-timeline__event").click(function(e){t.activeIndex=t.$timeline.children(".saga-timeline__event").index(i()(e.target)),t.positionContainer()})}},{key:"positionContainer",value:function(){var t=this;n.i(c.enableBodyScroll)(this.$toutContainer),this.$toutContainer.css("transition","margin-left 0.5s"),this.$context.find(".saga-timeline__timeline-container").addClass("change"),this.$toutContainer.css("margin-left","calc(50% - "+(this.toutWidth+this.toutWidthOffset)+"px * ("+this.activeIndex+" + 0.5))"),this.$toutContainer.find(".saga-timeline__tout").removeClass("active"),i()(this.$toutContainer.find(".saga-timeline__tout")[this.activeIndex]).addClass("active"),this.$timeline.find(".saga-timeline__event").removeClass("active"),this.$timeline.css("transform","translate3d(calc(-1 * "+(this.days[this.activeIndex]-Math.min.apply(Math,_toConsumableArray(this.days)))*this.timeToPixelRatio*f+"px), 0, 0)"),i()(this.$timeline.find(".saga-timeline__event")[this.activeIndex]).addClass("active"),r()(l.w).broadcast(),setTimeout(function(){t.$context.find(".saga-timeline__timeline-container").removeClass("change")},500)}},{key:"nextSlide",value:function(){this.activeIndex<this.$toutContainer.find(".saga-timeline__tout").length-1&&(this.activeIndex+=1,this.positionContainer())}},{key:"prevSlide",value:function(){this.activeIndex>0&&(this.activeIndex-=1,this.positionContainer())}}],[{key:"trackScroll",value:function(){if(window.analytics){var t=i()("#page-segment-values .keyvals").data(),e={label:"scroll to new cards"};e=Object.assign({},t,e),window.analytics.track("content action taken",e)}}}]),Saga}();e.a=function(){i()(".saga.component").each(function(){return new m(i()(this)).render()})}},947:function(t,e,n){"use strict";var a=n(17),i=n.n(a),o=n(649);e.a=function(){var t=document.querySelector(".jumpstart-video-data").getAttribute("data-jumpstart-version"),e=document.createElement("script");e.src="https://cdn.video.timeinc.com/jumpstart/"+t+"/js/jumpstart.min.js",e.async=!0,document.body.appendChild(e);var a,r,s=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(document.querySelectorAll("video[data-video-id]"))).map(function(t){return t.dataset.videoId}).filter(function(t){return t});a=s,r=n.i(o.a)("/element-api/content-proxy/structured-data"),i.a.get(r,{type:"video",ids:a},function(t){if("error"!==t.status){var e=document.createElement("script");e.setAttribute("type","application/ld+json"),e.innerText=t,document.head.appendChild(e)}})}}});
//# sourceMappingURL=2-2.js.map