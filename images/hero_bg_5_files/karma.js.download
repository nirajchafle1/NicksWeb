/*! karma.js v.3.5.0 2019-9-23 */
!function(){const e=window,t=document;let n=e.karmads||{};n.vars=n.vars||{},e.karma=e.karma||{},e.karma.vars=e.karma.vars||{},e.karma.config=e.karma.config||{};let r={vars:{version:"3.5.0",targetingStorage:{},els:{head:t.getElementsByTagName("head")[0]},slotFillQueue:[]},slots:{catalog:[],deferred:[],lazy:[],lazyScroll:[],refresh:[]},config:{networkCode:"3865",version:"3.10",scriptPath:"",environment:"",site:"",targeting:{},static:!1}},o,i,a,s,l,c,d,u,g,f,p,h,m,b,y,v,k,S,w,T,C,E,z,x,O,I,R,A,L,P,_,q;const j=r.vars,M=r.config;e.googletag=e.googletag||{},googletag.cmd=googletag.cmd||[],e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.karma.config.apiVersion?i=r.config.apiVersion=e.karma.config.apiVersion:(i=r.config.apiVersion=2,window.adServiceQ=window.adServiceQ||[]),r.vars.initialized=!1,n.config=function(){"use strict";let e,t,i,s,c,d,u,g,f,b,y,v;const k=["refreshSlotTypes","header_tag_managerEnabled","a9Enabled"];function S(n){const o=function(){const e=r.config.site.split(".")[0];return["bhg","pesp"].indexOf(e)>-1}();return i=o?"-":".",s=o?"samskaras":"karma",f="www"===t?"":t+i,b=g?":9999":"",M.scriptPath="https://"+f+s+".mdpcdn.com"+b+"/configs/"+d+"/"+(n||e)+".json",M.scriptPath}function w(r){v=n.config.storage.check(e,t,d),u||"object"!=typeof v?(a({label:"ConfigFetchStart"}),m(c,(function(e,t){n.targeting.ivt(t),r(e),a("Loaded static config! v."+e.versionInfo.version+" from "+c)}),(function(){"email.mdp.com"===e?a("Email address detected in the URL. Halting the ad request.",{force:!0,level:"error"}):(a("Failed to load static config! "+c+", trying for "+y,{force:!0,level:"error"}),c=M.scriptPath=S(y),m(c,(function(e){r(e),a("Loaded static config! v."+e.versionInfo.version+" from "+c,{force:!0})}),(function(){a("Failed to load default static config! "+c,{force:!0,level:"error"})})))}))):(a("Loading Config from LocalStorage."),M.scriptPath="localStorage.mdpKarmaConfig",M.environment=v.env,n.targeting.ivt("",!0),r(v))}return{load:w,process:function(e){if(void 0!==e.gptAds&&void 0!==e.gptAds.adSlots){const o=n.targeting.get("type");let i,a,s,c,d=l(e.gptAds.siteSettings),u=M.onPageSettings;if(n.config.storage.set(M.site,e,t),d.hasOwnProperty("pageSpecificSettings")&&d.pageSpecificSettings.hasOwnProperty(o)&&(d=h(d,d.pageSpecificSettings[o])),u.config.hasOwnProperty("docking")&&Object.keys(u.config.docking).length>0&&d.hasOwnProperty("docking")&&p(u.config.docking,(function(e){u.config.docking.hasOwnProperty(e)&&(d.docking[e]=u.config.docking[e])})),M.static=d||!1,!1!==M.static){let e=l(M.static);p(e,(function(t){-1!==k.indexOf(t)&&u.config.hasOwnProperty(t)||(M[t]=e[t])}))}if(n.urlVars.setTestValues(),r.slots.siteSpecific=l(e.gptAds.siteSpecificSlots),M.targeting.abTest&&"object"==typeof M.abTestMap&&(i=M.targeting.abTest,(a=M.abTestMap)[i])){s=a[i].prop.split("."),c=M;let e=s.length;p(s,(function(t,n){n===e-1?c[t]=a[i].val:c.hasOwnProperty(t)&&(c=c[t])}))}}else a("No response received from the service")},init:function(r){y="default.mdp."+(o?"mob":"com"),u=u||n.urlVars.get("karmaConfig"),g=!("local"!==u),t=u&&R(u)?u:u&&""!==u||"local"!==j.environment?j.environment||"www":"dev",M.environment=t,d="local"===(t=t)||"dev"===t?"latest":M.version,e=M.site.replace(/^test\./,""),c=S(),w(r||function(){})}}}(),n.docking=function(){"use strict";let e="";function t(){n.docking.leaderboard.init(),n.docking.rail.init()}function r(e){if(!e||!Array.isArray(e))return!1;let t=!0;return p(e,(function(e){eval(e)||(t=!1)})),t}function o(t){e+=t;const r=n.dom.lookup("#dockingStyles",!1,!0);e.length>0&&(null===r?n.dom.create("style",j.els.head,{id:"dockingStyles",innerHTML:e}):r.innerHTML=e)}function i(){if(M.docking){let e;p(["leaderboard","rail"],(function(t){M.docking[t]&&(e="leaderboard"===t?"docked"===n.docking.leaderboard.getPosition():n.docking[t].isEnabled(),n.targeting.set("docked"+t,e))}))}}function s(e){switch(a(("both"===(e=e||"leaderboard")?"leaderboard and rail docking have":e+" docking has")+" been disabled by karma.releaseDocking()"),e){case"both":n.docking.rail.disableAllRails(),n.docking.leaderboard.forceReleaseBanner("method");break;case"rail":n.docking.rail.disableAllRails();break;case"leaderboard":default:n.docking.leaderboard.forceReleaseBanner("method")}}return{processAdditionalLogic:r,appendStyleSheetCss:o,disableDocking:s,targeting:i,init:t}}(),n.lazyLoad=function(){"use strict";function e(){j.slotFillQueue.length>0?(n.requestQueue.process(j.slotFillQueue),j.slotFillQueue=[]):a("Attempted to fill newly created slots, but no unfilled slots exist.",{force:!0})}return{create:function(o,i,s,c,d){const u=". Aborting karma.createSlot.";let g;if("string"!=typeof o||""===o)return a("The lazy load slot type you passed to karma.createSlot is not set or is not a string"+u,{force:!0,level:"error",doc:"karmacreateslot"}),!1;if("string"==typeof i&&!t.getElementById(i))return a('You passed "'+i+'" as the lazy slot container id to karma.createSlot, but that element does not exist in the DOM'+u,{force:!0,level:"error",doc:"karmacreateslot"}),!1;if("boolean"!=typeof s&&(a("the autofill argument for karma.createSlot is not set or is not a boolean, so it defaults to false. You need to call karma.fillSlots() in order to fill the ad.",{force:!0,level:"warn",doc:"karmafillslots"}),s=!1),"object"==typeof c&&Object.keys(c).length&&(d=c,c=void 0),i="string"==typeof i?t.getElementById(i):i,!t.body.contains(i)&&t.body!==i)return a("The container you passed to karma.createSlot for "+o+" is not attached to the document body."+u,{force:!0,level:"error",doc:"karmacreateslot"}),!1;let f=(d=d||{}).tier;(g=n.tiers.getFromType(o))&&(o=o.replace("-tier"+g,""),f=g);let m,b,y,v,k=function(e,t){let n;return p(e,(function(e){t===e.slotContainer&&(n=e)})),n}(r.slots.lazy,o);return k?(n.tiers.isValidTier(f)||(a('You did not pass a valid tier (1-4) to karma.createSlot. The slot will be loaded as tier0. You should use "'+o+'-tierx" instead, where "x" is the desired tier',{force:!0,level:"warn",doc:"karmacreateslot"}),f=0),k.lazyCount=k.lazyCount?k.lazyCount:0,k.lazyCount+=1,m=k.slotContainer+"-"+k.lazyCount,k.deferred=!1,y=n.dom.create("div",i,{id:m,"data-tier":f}),(k=l(k)).tier=f,k.tierString="tier"+f,k.slotTargetingValues=k.slotTargetingValues||{},d.hasOwnProperty("targeting")&&"object"==typeof d.targeting&&h(k.slotTargetingValues,d.targeting),v=k.slotContainer.replace("-lazy-","-"),M.tiers&&M.tiers[v]&&M.tiers[v][k.tierString]&&h(k,M.tiers[v][k.tierString]),k.refreshType=d.refreshType||"lazy",d.bypassVisibilityCheck&&(k.bypassVisibilityCheck=!0),b=n.gpt.define(k,n.targeting.adunit.build(k),m),k.slotContainer=m,r.slots.catalog.push(k),n.targeting.slotSetup(k),n.gpt.display(m),n.reporting.lazyLoadSlot(o),j.slotFillQueue.push(k),a("Finished adding GPT slot "+m),s&&e(),d.refreshable&&(d.purgeRefreshList&&n.refresh.purgeSlots(),n.refresh.addSlot(m)),"function"==typeof c?n.gpt.addCallback((function(e){e.slot.getSlotId().getDomId()===m&&c(e)})):void 0!==c&&a("Callback passed to karma.createSlot for "+m+" is "+typeof c+", not a function. ignoring callback",{force:!0,level:"warn",doc:"karmacreateslot"}),n.translate.slots(),y):(a('Lazy slot "'+o+'" is not configured for this site'+u,{force:!0,level:"error",doc:"karmacreateslot"}),!1)},fill:e,removeFromQueue:function(e){return j.slotFillQueue=j.slotFillQueue.filter((function(t){return t.slotContainer!=e})),j.slotFillQueue}}}(),n.partner=function(){"use strict";const e=["prebid","a9","header_tag_manager"],t=[];let o=!1,i=!1;function s(e){return M[e+"Enabled"]&&!!n.partner[e]}function l(e,t){const o=t||r.slots.catalog;return!!s(e)&&(j[e]=j[e]||{},j[e].slots=j[e].slots||{},p(o,(function(t){t.hasOwnProperty(e)&&!0===t[e]&&n.slots.isValidSlotForDevice(t)&&(j[e].slots[t.slotContainer]=t)})),j[e].slots)}function c(t){return e.filter((function(e){return d(t,e)})).length>0}function d(e,t){return e[t]&&s(t)}return{buildSlots:l,getTimeoutLengths:function(e){const t=M.bidTimeouts||{},n="hard"===e,r={partnerEnforced:t[e]||750,failsafe:t.failsafe||2e3,message:n?"failsafe":"refresh"};return r.karmaEnforced="hard"===e?r.failsafe:r.partnerEnforced,r},init:function(){const r=M.bidTimeouts=M.bidTimeouts||{};r.failsafe=r.failsafe||2e3,r.hard=r.hard||750,r.soft=r.soft||500,r.timed=r.timed||r.hard,!0===o||n.gdpr.showNonPersonalizedAds()||(o=!0,p(e,(function(e){var n;s(e)&&(l(e),j[n=e]&&j[n].slots&&Object.keys(j[n].slots).length>0||(a("No slots were available for "+e+". Disabling "+e,{force:!0,level:"warn"}),M[e+"Enabled"]=!1),t.push(e))})),p(t,(function(e){"function"==typeof n.partner[e].load&&n.partner[e].load()})))},removeSlotFromAll:function(e){let n;p(t,(function(t){s(t)&&j[t].hasOwnProperty("slots")&&(n=j[t].slots).hasOwnProperty(e)&&delete n[e]}))},isSetupRunning:function(){return i},isAnyPartnerEnabledOnSlot:c,initDemandFetch:function(t,r){function o(e){const r=u.indexOf(e);r>=0&&u.splice(r,1),0===u.length&&(i=!0,a("Finishing request"),n.requestQueue.finishRequest(t))}function l(e,t){return e.filter((function(e){return t.indexOf(e)>-1})).length>0}const u=["control"],g=function(e){const t=e.map((function(e){return e.refreshType})),n=l(t,["timed","swap"]),r=l(t,["soft","lazy","scroll"]);return n?"timed":r?"soft":"hard"}(t);if(p(e,(function(e){(function(e,t){return e.filter((function(e){return d(e,t)})).length>0&&s(t)})(t,e)&&(n.partner.buildSlots(e,t),u.push(e),n.partner[e].fetchBids(t,g,(function(){o(e)})))})),"timed"===g&&function(e){return e.filter((function(e){return c(e)})).length>0}(t)){const e=1e3*Math.ceil(M.bidTimeouts.timed/1e3);a("Starting partner control timeout for timed refresh: "+e),setTimeout((function(){o("control")}),e)}else o("control")}}}(),n.polyfills=function(){"use strict";return function(){if("function"==typeof e.CustomEvent)return!1;function n(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var r=t.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r}n.prototype=e.Event.prototype,e.CustomEvent=n}(),"undefined"!=typeof NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),{createCustomEvent:function(e){return new CustomEvent(e)}}}(),n.refresh=function(){"use strict";function e(e){return(e=e||r.slots.refresh).map((function(e){return e.slotContainer}))}return j.refreshingAds=!1,M.refresh=M.refresh||{},{startRefresh:function(t){if(!M.refresh.userInitiated.enabled)return a("User initiated refresh is disabled for this page."),!1;const o=[];let i,s=t||e();return p(s,(function(e){(i=n.slots.getById(e))?(i.shouldIncrementRefresh=!0,i.refreshType="soft",n.refresh.timed.resetSlotTimer(i),o.push(i)):r.log("Cannot refresh "+e+" because it does not exist",{force:!0,level:"warn"})})),o.length>0&&(a("refreshing these ads: "+e(o).toString()),n.refresh.timed.check(),n.requestQueue.process(o),E()),!1},buildDefaultSlots:function(){return r.slots.refresh=r.slots.catalog.filter((function(e){return-1===e.slotContainer.indexOf("-lazy-")&&n.slots.matchHandleArray(e,M.refresh.userInitiated.slotTypes||[])}))},purgeSlots:function(){return r.slots.refresh=[]},addSlot:function(e){const t=n.slots.getById(e);return!!t&&(r.slots.refresh.push(t),!0)},removeSlot:function(e){let t=r.slots.refresh;try{return t.splice(t.indexOf(e),1)}catch(t){a("You tried to remove an invalid slot id from karma.slots.refresh: "+e,{force:!0,level:"warn",doc:"refresh"})}return!1},targeting:function(e){p(e,(function(e){e.refreshType?(n.targeting.clear(void 0,e),n.targeting.slotSetup(e)):e.refreshType="hard",n.targeting.set("refreshType",e.refreshType,e)}))},incrementRefreshCounter:function(e){p(e,(function(e){e.shouldIncrementRefresh&&(e.refreshCount="number"==typeof e.refreshCount?e.refreshCount:0,e.refreshCount+=1,n.targeting.set("refresh",e.refreshCount,e),e.shouldIncrementRefresh=!1)}))}}}(),n.targeting=function(){"use strict";const t={},r=["app","article","audio","audio_hub","category","channel","collection","freestuff","homepage","landing_page","none","page","photos","post","print","product","profile","project","recipe","recipe_hub","reviews","search","slideshow","slideshow_hub","sponsored_collection","sponsored_recipe_hub","sponsored_print","sponsored_profile","sponsored_recipe","tag","video","video_article","video_hub","video_playlist","video_recipe"];let o;function i(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"")}function l(e,a,l){if(a=s(a),""!==(a="type"===e?function(e){j.unmappedPageType=e,e=e?i(e):"";const t={story:"article",multimediaarticle:"video_article",videostory:"video_article",travelreview:"article",productreview:"article",backtalk:"article",landing:"landing_page",directory:"category",channel:"category",topic:"category",subchannel:"category",list:"slideshow",gallery:"slideshow",photogallery:"slideshow",popularrecipes:"slideshow",recipedetail:"recipe",recipes:"recipe",gallerydetails:"app",productdetailpage:"app",faq:"page",contributor:"page",blogpost:"post",exclusiveoffers:"freestuff",advertorialpage:"page",author:"profile",blog:"post",blogtout:"post",bracket:"bracket",businesslisting:"page",businesslistinglandingpage:"landing_page",calculator:"app",calendar:"slideshow",channellandingpageresponsive:"category",channellayout:"category",checklist:"app",conditioncenter:"app",content:"page",contentpackage:"category",covevideo:"video",dailyfinds:"app",ecommercehub:"landing_page",featurepackage:"category",franchise:"page",generic:"page",genericpage:"page",hgallery:"slideshow",home:"homepage",howto:"article",imagelist:"photos",index:"category",listicle:"article",longform:"article",magazine:"page",main:"category",makeover:"app",multitag:"tag",multitagpage:"tag",newusesgallery:"slideshow",odds:"odds",optimizer:"optimizer",package:"category",packageflex:"category",planner:"app",plant:"app",poy:"article",rankings:"rankings",recap:"article",schedules:"schedules",scrollinggallery:"slideshow",section:"category",sectionfront:"category",shoppinghub:"product",specialsectionpage:"category",standings:"standings",stats:"stats",storied:"app",syndicatedslideshow:"slideshow",tags:"tag",textlist:"page",tiledlandingpage:"landing_page",timeline:"app",topicpage:"category",topicpagechild:"category",tout:"page",tvrecapsubchannel:"category",verticalgallery:"slideshow",videoarticle:"video_article",videolandingpage:"video_hub",videoarchive:"video_hub",videoseries:"video_playlist",videos:"video_hub"};return p(r,(function(e){t[i(e)]=e})),void 0===e||""===e?"none":t.hasOwnProperty(e)?t[e]:e}(a):a))if(l)n.gpt.setSlotTargeting(l,e,a);else{if(t.hasOwnProperty(e)&&t[e]===JSON.stringify(a))return;o[e]=a,t[e]=JSON.stringify(a),n.gpt.setPageTargeting(e,a)}}function c(e,t){if(t){if(t=I(t)?t:n.slots.getById(t),!I(t))return void a("invalid slot id passed into karma.updateTargeting: "+t,{force:!0,level:"error",doc:"karmaupdatetargeting"});p(e,(function(n){t.slotTargetingValues[n]=e[n]}))}p(e,(function(n){l(n,e[n],t)}))}function d(){if(t.hasOwnProperty("muid"))return t.muid;const n=e.globalTI&&e.globalTI.session?globalTI.session:v("globalTI_SID");return a("Setting muid: "+n),l("muid",n),n}return{init:function(){M.targeting=M.targeting||{},o=M.targeting,function(){const t=e.location.pathname.split("/"),n=t.length,r=j.url.ref_hub;r&&""!==r&&(o.ref_hub=r),L(),p(j.targetingStorage,(function(e){j.targetingStorage[e]&&(o[e]=j.targetingStorage[e])})),x()&&"search"!==o.type&&(o.type="homepage"),p(j.url.testValues,(function(e){o[e]=j.url.testValues[e]})),(void 0===o.type||""===o.type)&&(o.type="none"),o.path=t.slice(1,t[n-1]?n:n-1),_(.1)&&(o.pft=1),c(o)}()},get:function(e){return M.targeting[e]},set:l,setObj:c,clear:function(e,r){return o.hasOwnProperty(e)&&delete o[e],t.hasOwnProperty(e)&&delete t[e],r?n.gpt.clearSlotTargeting(r,e):n.gpt.clearPageTargeting(e)},slotSetup:function(e){e.slotTargetingValues=e.slotTargetingValues||{},e.slotTargetingValues.slot=e.slotContainer.replace("div-gpt-",""),c(e.slotTargetingValues,e)},legacyUpdateSlot:function(e,t){c(t,e)},prerequest:function(){d(),t.hasOwnProperty("gaid")||e.ga((function(t){const n=e.ga.getAll()[0].get("clientId");""!==n?(l("gaid",n),a("Setting GA client id (gaid): "+n)):a("GA client id not available.",{force:!0,level:"warn"})})),function(){if(j.targetingReady)return;const e=n.dom.lookup("#page-segment-values"),t=!!e&&n.dom.lookup(".keyvals",!1,!1,e),r=!!t&&t.dataset;"object"==typeof r&&(l("concepts",(r.content_nlp_entities||"").split(/\/|\|/)),l("sentiment",r.content_nlp_sentiment_label),l("taxons",(r.content_nlp_categories||"").split(/\/|\|/)))}()},ready:function(){e.dispatchEvent&&(a("Dispatching event: karmaTargetingReady"),e.dispatchEvent(g("karmaTargetingReady"))),j.targetingReady=!0,o.id&&""!==o.id||a("karma.config.targeting.id is missing or empty.",{force:!0,level:"error",doc:"karmaconfigtargetingid---required"}),o.type&&""!==o.type&&"none"!==o.type||a("karma.config.targeting.type is missing or empty.",{force:!0,level:"error",doc:"karmaconfigtargetingtype---required"}),o.channel&&""!==o.channel||a("karma.config.targeting.channel is missing or empty.",{force:!0,level:"error",doc:"karmaconfigtargetingchannel---required"}),"app"!==o.type||o.app_name&&""!==o.app_name||a("This page has a type of 'app', but there is no value set for karma.config.targeting.app_name.",{force:!0,level:"warn",doc:"karmaconfigtargetingapp_name"}),"search"!==o.type||o.search&&""!==o.search||a("This page has a type of 'search', but there is no value set for the search term in karma.config.targeting.search.",{force:!0,level:"warn",doc:"karmaconfigtargetingsearch"}),-1===r.indexOf(o.type)&&a("karma.config.targeting.type ("+o.type+") is an invalid value.",{force:!0,level:"warn",doc:"karmaconfigtargetingtype---required"})},setMuid:d,ivt:function(e,t){const n=["tag-ivt-detected","cf-bot-score"],r=n[0],o=n[1],i=e.split("\n"),a={};let s,c,d=localStorage.getItem("mdpTagIvt"),u=localStorage.getItem("mdpCfb");p(i,(function(e){e=e.split(": "),n.indexOf(e[0])>-1&&(a[e[0]]=e[1])})),t?(s=d,c=u):(d&&!a[r]&&localStorage.removeItem("mdpTagIvt"),u&&!a[o]&&localStorage.removeItem("mdpCfb"),a[n[0]]&&(s=a[r],localStorage.setItem("mdpTagIvt",s)),a[o]&&(c=(a[o]<50)+"",localStorage.setItem("mdpCfb",c))),s&&l("tagivt",s),c&&l("cfb",c)},vars:{standardTypes:r}}}(),n.utilities=function(){"use strict";const r=e.location.hostname,o=r.split("."),i=o.length,s=(e.location.search,e.location.pathname);function l(e,t){t=t||"abbr";let n,a,s=e=e||c();const l={allpeoplequilt:"apq",agriculture:"ag",bestlifeonline:"bestlife",eatingwell:"ew",familycircle:"fc",fitnessmagazine:"fitness",myfoodandfamily:"kraftrecipes",livingthecountrylife:"lcl",midwestliving:"mwl",marthastewart:"mslo",marthastewartweddings:"msw",rachaelray:"rachaelraycom",rachaelraymag:"rrmag",siempremujer:"sm",serpadres:"sp",traditionalhome:"tradhome",woodmagazine:"wood",cookinglight:"ckl",coastalliving:"col",departures:"dep",ew:"enw",foodandwine:"fw",health:"hlt",instyle:"ins",myrecipes:"mre",people:"peo",peopleenespanol:"pesp",realsimple:"rsm",sikids:"sik",southernliving:"sol",travelandleisure:"tl"};return"abbr"===t?(l.hasOwnProperty(e)&&(s=l[e]),-1!==r.indexOf("allrecipes")?(n=i>2?o[0]:null,a=o.slice(-1)[0],{qc:"arqc",ew:"eatingwell"}[n]||{ca:"arqc",uk:"aruk",au:"arau"}[a]||"ar"):s):(h(l,(function(t){e===l[t]&&(s=t)})),s)}function c(){const e=n.urlVars.get("adTestSite");let t;if(e)return l(e.split(".")[0]);switch(t=o.slice(-2,-1)[0]){case"com":case"co":return o.slice(-3,-1)[0];case"themarthablog":return"marthastewart";case"soundst":return o[0]}return t||"default"}function d(e,t){return t=t||["local","dev","test","www"],"string"!=typeof e||-1!==t.indexOf(e)}function u(e){return"string"==typeof e&&("true"===e||"false"===e||""===e)||null==e?"true"===e||!1:e}function g(e){return parseInt(e,10)}function f(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&!NodeList.prototype.isPrototypeOf(e)}function p(){let t=e.localStorage;try{return t.setItem("mdpTest","1"),t.removeItem("mdpTest"),!0}catch(e){return!1}}function h(e,t){(e=f(e)?Object.keys(e):e).forEach(t)}return{cleanCharacters:function e(t){let n="",r=!1;return null==t?n="":Array.isArray(t)?(n=[],h(t,(function(t,r){n[r]=e(t)}))):"string"==typeof t?(n=t.replace(/['"=!#\+\*~;\^\(\)<>\[\],&\s]/gi,""),r=!0):"number"!=typeof t&&"boolean"!=typeof t||(n=String(t),r=!0),r&&t!=n&&a("Targeting value Sanitized. Before: "+t+" After: "+n,{level:"warn",force:!0}),n},clone:function e(t){let n=t;return f(t)&&(n=Object.create(t.constructor.prototype),h(t,(function(r){n[r]=e(t[r])}))),n},coerceType:function(e){return"string"==typeof e?e.match(/^[0-9]+$/)?g(e):u(e):e},convertStringToBoolean:u,convertStringToNumber:g,createEvent:function(e){let t;try{t=new Event(e)}catch(r){t=n.polyfills.createCustomEvent(e)}return t},debounce:function(e,t,n){let r;return function(){const o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}},doLoop:h,extend:function e(t,n){return n&&h(n,(function(r){try{n[r].constructor===Object?t[r]=e(t[r],n[r]):t[r]=n[r]}catch(e){t[r]=n[r]}})),t},fetchJson:function(e,t,n){let r=!1;function o(){r=!0,a("XMLHttpRequest initialization error",{level:"error",force:!0}),"function"==typeof n&&n()}const i=new window.XMLHttpRequest;"withCredentials"in i?(i.open("GET",e,!0),i.onloadend=function(){if(404!=i.status){const e=""!==this.responseText?JSON.parse(this.responseText):{};e&&0===Object.keys(e).length&&e.constructor===Object?o():t(e,i.getAllResponseHeaders())}else o()},r||(i.onerror=o,i.send())):o()},fetchResource:function(e,t,r,o){t=t||function(){},r=r||function(){},o=o||"script";const i=function(){const e=navigator.appVersion.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/);return null!==e&&e.length>=2&&e[1]}();let a={src:e};"9.0"!==i&&"10.0"!==i&&(a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"complete"!==e&&"loaded"!==e&&r();try{t()}catch(e){r(e)}},a.onerror=r),n.dom.create(o,j.els.head,a)},getBreakpoint:function(n){let r,o,i=M.breakpoints,a="base",s=0;return e.innerWidth||t.documentElement.clientWidth||t.body.clientWidth,i.hasOwnProperty("base")||(i.base=0),h(o=(r=n?n.filter((function(e){return i.hasOwnProperty(e)})):Object.keys(i)).filter((function(t){return i[t]<=e.innerWidth})),(function(e){i[e]>=s&&(s=i[e],a=e)})),a},getCookie:function(e){if(!navigator.cookieEnabled)return a("Cookies are disabled in your browser",{force:!0,level:"warn"}),!1;const n=e+"=";let r;return h(decodeURIComponent(t.cookie).split(";"),(function(e){for(;" "==e.charAt(0);)e=e.substring(1);0==e.indexOf(n)&&(r=e.substring(n.length,e.length))})),r},getEnv:function(){const e=n.urlVars.get("adTestEnv");let t;return!!d(e)&&e||(i<3?"www":(t=i>2?o[0]:"www",-1!==["dev","localhost","local"].indexOf(t)||i>=2&&"betasites"===o[2]?"dev":"test"===t?"test":"www"))},getKarmaScript:function(e,t){e=e||"footer",t=t||!1;const r=n.dom.lookup('script[src*="karma.mdpcdn.com"]',!0,!0),o=/^http(?:s)?:\/\/([^\.]*)\.?karma\.mdpcdn\.com[:9]*\/service\/(js|js-min)\/(karma(.*))$/;let i,a,s=r.length;if(j.scriptPath&&j.scriptPath.length>0)return j.scriptPath.match(o);for(;s--;)if(null!==(i=(a=r[s]).src.match(o))&&t===(a.dataset&&"true"===a.dataset.reloaded))return i;return null},getSiteName:c,getSite:l,hasMethod:C,incrementPageCount:function(){let e=j.targetingStorage.pv++;return localStorage.setItem("mdpAdPageCount",e),n.targeting.set("pv",e),e},isAdX:function(e){return!0===e.requested&&!1===e.isEmpty&&null===e.creativeId},isHomepage:function(){return"/"===s&&null!==/^www|dev|test|allrecipes|local|bestlifeonline|eatthis|eatingwell$/.test(o[0])},isIE:function(){return navigator.userAgent.indexOf("Trident")>-1||navigator.userAgent.indexOf("MSIE")>-1},isLocalStorageAvailable:p,isObject:f,isValidEnv:d,referrerIsAmp:function(){const e=t.referrer.match(/^https?:\/\/(?:cdn\.ampproject\.org\/.\/)?(?:test\.|dev\.)?amp\.([a-z]+)\.com/);return null!==e&&e[1]===c()},setAndCheckLocalStorageVars:function(){const e=Date.now();let t=j.targetingStorage,n=!1;p()?(localStorage.mdpAdSessionTTL||localStorage.setItem("mdpAdSessionTTL",e+432e5),e>localStorage.mdpAdSessionTTL&&(n=!0,localStorage.removeItem("mdpAdRefHub"),localStorage.setItem("mdpAdSessionTTL",e+432e5)),t.pv=n||null===localStorage.getItem("mdpAdPageCount")?0:parseInt(localStorage.mdpAdPageCount,10),t.pv++,t.ref_hub=j.url.ref_hub?M.targeting.ref_hub:localStorage.mdpAdRefHub,localStorage.setItem("mdpAdPageCount",t.pv),t.ref_hub&&!j.url.referringId&&localStorage.setItem("mdpAdRefHub",t.ref_hub)):(t.pv=0,a("localStorage not available ... setting karma.vars.targetingStorage.pv to 0."))},tryCatch:function(t,n){try{t()}catch(t){n?n(t):e.console.error(t)}},randomPercentage:function(e){return Math.random()<e/100}}}(),s=n.utilities.cleanCharacters,l=n.utilities.clone,c=n.utilities.coerceType,d=n.utilities.convertStringToBoolean,u=n.utilities.convertStringToNumber,g=n.utilities.createEvent,f=n.utilities.debounce,p=n.utilities.doLoop,h=n.utilities.extend,m=n.utilities.fetchJson,b=n.utilities.fetchResource,y=n.utilities.getBreakpoint,v=n.utilities.getCookie,k=n.utilities.getEnv,S=n.utilities.getKarmaScript,w=n.utilities.getSiteName,T=n.utilities.getSite,C=n.utilities.hasMethod,E=n.utilities.incrementPageCount,z=n.utilities.isAdX,x=n.utilities.isHomepage,q=n.utilities.isIE,O=n.utilities.isLocalStorageAvailable,I=n.utilities.isObject,R=n.utilities.isValidEnv,A=n.utilities.referrerIsAmp,L=n.utilities.setAndCheckLocalStorageVars,P=n.utilities.tryCatch,_=n.utilities.randomPercentage,n.targeting=n.targeting||{},n.targeting.adunit=function(){"use strict";let e,t,r,i,a;function c(){return t?(M.site=t,M.site):n.urlVars.urlContainsEmail()?(M.site="email.mdp.com",M.site):(M.site=M.site&&M.site.length>0?M.site:[a].concat(function(e){return e&&e.length>0?["mdp",o?"mob":"com"]:[]}(a)).join("."),M.site)}function d(e){let t=[],r=l(i);return e&&n.slots.isLazy(e)&&(r=h(r,e.slotTargetingValues)),t.push(e&&e.tierString?e.tierString:"tier0"),t.push(""!==r.type?r.type:"none"),r.channel&&t.push(r.channel),((t=t.map(s)).length>0?"/":"")+t.join("/")}return{build:function(e){return r+d(e)},buildTop:function(){return r},buildSub:d,getTopLevelAdUnit:c,getVideoAdUnit:function(){return"/"+[M.networkCode,a+".mdp.video"+(o?".mob":"")].join("/")+d()},init:function(){e=n.urlVars.isTrue("adTest")?"test.":"",t=null!==n.urlVars.get("adTestSite")&&n.urlVars.get("adTestSite"),a=T(),r=M.networkCode+"/"+e+c(),i=M.targeting||{},M.site=s(M.site)}}}(),n.bidz=function(){"use strict";let e,t;const r={cl4fbg1:5,"8qlo8l":10,oymvmt1:15,kjcyke:20,s5v1s01:25,wwuewr:30,"4br33o1":35,cp7gd2:40,sx8nra1:45,c9zmcm:50,sh0uqu1:55,"0wg619":60,"04brz71":65,"4va44z":70,cht7bl1:75,"82ja96":80,oakhne1:85,kf1rkj:90,"0o2yyr1":95,"8uwv8g":100,ggfzf21:105,k7fckt:110,g76fm1:115,oenip:120,"4nop391":125,g8phyp:130,wgqocy1:135,"4v61nc":140,"0oyuh51":145,"4fy7mw":150,c1hbti1:155,k7b937:160,"0gcghf1":165,wktpek:170,ctuwss1:175,"8ekzqd":180,g33yz:185,kr2g2r:190,kzw01q1:195,sdddb4:200,"8mekpc1":205,sx4kao:210,"866row1":215,gkm3za:220,oyis571:225,spi5ay:230,"0c19hk1":235,wwqbf5:240,c5sitd1:245,"8a9sqi":250,oiaz4r1:255,wwavng:260,"4jtyu21":265,"8atbzt":270,"43l5um1":275,ch1i41:280,sp2pi91:285,omxjfo:290,"4vyqtw1":295,c9f34b:300,"827xy31":305,ct6a3v:310,kfpdah1:315,kfh7c8:320,"0oieqg1":325,wsznnl:330,c11v1u1:335,"8mqxze":340,g891711:345,kz8ebs:350,sd53io1:355,"0slfs2":360,g0nm6b1:365,"0cdmrm":370,gket5v1:375,oyu5g9:380,c1xrk71:385,gsw4py:390,oef8wk1:395,kz4bu5:400,"86i8e1":405,wcnr5j:410,cloyjr1:415,kriwtf:420,sd1121:425,w41d5t:430,sxs60m1:435,"0c9ja":440,gkaqo81:445,"4b3hdq":450,kj4ory1:455,sxk02d:460,oqcuw51:465,shc71x:470,"04va8j1":475,"8ap8i7":480,oiqfwf1:485,kn7ptk:490,"0w8w7t1":495,wgyy5e:500};function o(t){let o=function(e){const t=function(e){if(void 0===e)return!1;const t=n.gpt.getSlotTargeting(e),o=[];let i,a,s;return p(t,(function(e){i=t[e][0],!1!==(s=!!i&&function(e,t){const n={rpfl_12738:function(e){return e.replace(/\d+_tier(\d+)/,"$1")},IOM:function(e){return e.replace(/\d+x\d+_(\d+)/,"$1")},amznbid:function(e){var t=e.split("").reverse().join("");return r[t]||!1},ix_ox_om:function(e){return e.split("_")[1]}};return n.ix_apnx_om=n.IOM,n.ix_pubm_om=n.IOM,!(!n.hasOwnProperty(e)||(t=u(n[e](t)),isNaN(t)))&&{key:e,value:t}}(e,i))&&o.push(s)})),M.prebidEnabled&&n.partner.prebid&&"number"==typeof(a=n.partner.prebid.getHighestNonDealBid(e))&&o.push({key:"prebid",value:100*a}),o}(e);if(t.length>0){let n=t.map((function(e){return e.value})).sort((function(e,t){return t-e}));return e.bids=t,n.shift()}}(t)||0;return o>0&&(o*=e/100+1),function(e){function t(e,t){return(Math.floor(e/t)+1)*t}return e>0&&e<1e3?e=t(e,5):e>=1e3&&e<2e3?e=t(e,10):e>=2e3&&(e=t(e,25)),Math.floor(e)}(o=Math.floor(100*o)/100)}return{setFloors:function(r){e&&t&&p(r,(function(e){n.partner.isAnyPartnerEnabledOnSlot(e)&&function(e){const t=o(e),r=0===t?0:1;n.targeting.set("bz",function(e){const t=String(e),n=t.length;return 1===n?"00"+t:2===n?"0"+t:t}(t),e),n.targeting.set("bzr",r,e)}(e)}))},init:function(){const n=function(){const e=new Date,t=new Date,n=e.getTimezoneOffset()/60,r=M.bidzDayPartOverride||[];let o,i,a,s=-1;return t.setMonth(0),i=5-((o=t.getTimezoneOffset()/60)-n),e.setHours(e.getHours()+(n-i)),a=e.getHours(),p(r,(function(e){a>=e.start&&a<e.end&&(s=e.percentage)})),s}();return M.bidzEnabled=M.bidzEnabled&&(!!M.header_tag_managerEnabled||!!M.prebidEnabled)&&!!M.a9Enabled,t=M.bidzEnabled,e=n>=0?n:parseInt(M.bidzPercentage,10)||0,a("bidz enabled: "+t+"; percentage: "+e+"%"),e}}}(),n.callbacks=function(){"use strict";const e=[];let t;function r(){M.callback={push:i}}function o(t){"function"==typeof t?(n.gpt.addCallback(t),e.push(t)):a("karma.config.callback.push(fn): Not a valid function.",{force:!0,level:"error"})}function i(e){"function"==typeof(t=t||[])&&(a("karma.config.callback has been overwritten as a function. It should be an array. Please stop it",{force:!0,level:"error"}),r(),i(t)),Array.isArray(t)&&o(e)}return{init:function(){(t=M.callback)&&(t="function"!=typeof t?t:[t],Array.isArray(t)?p(t,o):a("karma.config.callback is defined but is not an array of functions. Ignoring callback.",{force:!0,level:"error"})),r(),o(n.slots.setResponseData)},getCallbackArray:function(){return e},add:i}}(),n.config=n.config||{},n.config.slots=function(){"use strict";const e={},t=[];let r=[{slotContainer:"div-gpt-leaderboard-flex",slotType:"leaderboard",slotSizes:["728x90","970x90","970x250"],a9:!0,a9Sizes:[[728,90]],header_tag_manager:!0},{slotContainer:"div-gpt-leaderboard-fixed",slotType:"leaderboard",slotSizes:["728x90"],a9:!0,a9Sizes:[[728,90]],header_tag_manager:!0},{slotContainer:"div-gpt-square-flex",slotType:"square",slotSizes:["300x250","300x600","300x1050"],a9:!0,a9Sizes:[[300,250],[300,600]],header_tag_manager:!0},{slotContainer:"div-gpt-square-fixed",slotType:"square",slotSizes:["300x250"],a9:!0,a9Sizes:[[300,250]],header_tag_manager:!0},{slotContainer:"div-gpt-halfPage-fixed",slotType:"halfPage",slotSizes:["300x600"]},{slotContainer:"div-gpt-halfPage-flex",slotType:"halfPage",slotSizes:["300x250","300x600"],a9:!0,a9Sizes:[[300,250],[300,600]]},{slotContainer:"div-gpt-interstitial",slotType:"interstitial",outOfPage:!0},{slotContainer:"div-gpt-wallpaper",slotType:"wallpaper",outOfPage:!0},{slotContainer:"div-gpt-skyscraper",slotType:"skyscraper",slotSizes:["160x600"],header_tag_manager:!0},{slotContainer:"div-gpt-related",slotType:"related",slotSizes:["1x6"]},{slotContainer:"div-gpt-sponsorLogo",slotType:"sponsorLogo",slotSizes:["122x34","120x75"]},{slotContainer:"div-gpt-fluid",slotType:"fluid",slotSizes:["fluid"]},{slotContainer:"div-gpt-mob-square-fixed",slotType:"mob-square",slotSizes:["300x250","fluid"],a9:!0,a9Sizes:[[300,250]],header_tag_manager:!0,isMobile:!0},{slotContainer:"div-gpt-mob-square-flex",slotType:"mob-square",slotSizes:["300x250","320x100","320x200","fluid"],a9:!0,a9Sizes:[[300,250]],isMobile:!0,header_tag_manager:!0},{slotContainer:"div-gpt-mob-banner-fixed",slotType:"mob-banner",slotSizes:["320x50"],a9:!0,a9Sizes:[[300,250]],header_tag_manager:!0,isMobile:!0},{slotContainer:"div-gpt-mob-banner-flex",slotType:"mob-banner",slotSizes:["320x50"],a9:!0,a9Sizes:[[320,50]],header_tag_manager:!0,isMobile:!0},{slotContainer:"div-gpt-mob-adhesive-banner-fixed",slotType:"mob-adhesive-banner",slotSizes:["320x50"],a9:!0,a9Sizes:[[320,50]],header_tag_manager:!0,isMobile:!0},{slotContainer:"div-gpt-mob-related",slotType:"related",isMobile:!0,slotSizes:["320x175"]},{slotContainer:"div-gpt-mob-sponsorLogo",slotType:"sponsorLogo",isMobile:!0,slotSizes:["122x34","120x75"]},{slotContainer:"div-gpt-mob-fluid",slotType:"fluid",isMobile:!0,slotSizes:["fluid"]},{slotContainer:"div-gpt-leaderboard-responsive",slotType:"leaderboard-responsive",a9:!0,a9Sizes:[[300,250]],responsiveA9Sizes:{desktop:[[728,90]]},header_tag_manager:!0,responsive:!0,slotSizes:["300x250"],responsiveSlotSizes:{desktop:["728x90"]}}];return{build:function(o,i,s){r=r.concat(s);const l={};let c,d,u;return"object"==typeof o&&p(o,(function(o){u=n.tiers.getFromType(o)||null,d=o.split(":tier")[0],!1!==(c=function(e){const t=r.filter((function(t){return e===t.slotContainer||-1!==e.indexOf(t.slotContainer+"-")}));return 0===t.length?(a('Slot placeholder id "'+e+'" is not a valid KARMA ad slot.',{force:!0,level:"error",doc:"slot-catalog"}),!1):h({},t[0])}(d))&&(c.slotContainer=d,null!==u&&n.tiers.setTierSettings(u,c,i),e.hasOwnProperty(c.slotContainer)||(t.push(c),e[c.slotContainer]=!0))})),l.adSlots=t,l.lazySlots=function(e,t){const n=[];return p(e,(function(e){e.hasOwnProperty("site")&&e.site!==t&&-1===e.site.indexOf(t)||((e=h({},e)).slotContainer=e.slotContainer.replace("div-gpt","div-gpt-lazy"),n.push(e))})),n}(r,i),l}}}(),n.config=n.config||{},n.config.storage=function(){"use strict";const e="mdpKarmaConfig";function t(){return localStorage.removeItem(e)}return{check:function(n,r,o){let i,s,l=localStorage.getItem(e);if(O()&&l){try{i=JSON.parse(l)}catch(t){i=!1,a("Unable to parse stored config: localStorage."+e,{force:!0})}return I(i)&&(i.adDomain===n&&i.env===r?i.version!==o?(a("localStorage Config Found, but the version number is out of date. Removing cached version."),t()):i.expires>=Date.now()?s=i:(a(void 0+"localStorage Config Found, but it's expired. Removing cached version."),t()):(a("localStorage Config Found, but it's for another site or environment. Removing it."),t())),!(!s||!I(s))&&s}},set:function(t,n,r){O()&&I(n)&&(n.adDomain=t,n.expires=Math.floor(Date.now()+3e5),n.env=r,n.version=M.version,localStorage.setItem(e,JSON.stringify(n)))}}}(),n.debug=function(){"use strict";j.debug=!1;const t=e.console;function r(t){"true"!==t&&"log"!==t||(j.debug||(j.debug=!j.debug),e.karmads=n,j.queueExecuted&&o())}function o(){let e=j.logObject;return p(e,(function(t){i(e[t].consoleMessage,e[t].level)})),e}function i(e,n){switch(e="%c--KARMA "+(n=n||"log").toUpperCase()+("warn"===n?"ING":"")+": "+e,n){case"error":t.error(e,"font-size:14px;color:red");break;case"warn":t.warn(e,"font-size:14px;color:darkgoldenrod");break;default:t.log(e,"font-size:12px;color:green")}}return{init:r,showLog:o,consoleLog:function(e,n,r){r&&(e+=" http://"+("www"!==j.environment?"dev.":"")+"karma.mdpcdn.com/docs/dev/#"+r),t&&i(e,n)},publicDebug:function(){r("true")}}}(),n.deferred=function(){"use strict";return{init:function(t,o){const i=[];let a=[];return"complete"!==o&&M.useDeferred?(p(t,(function(e){e.deferred?i.push(e):a.push(e)})),r.slots.deferred=i,i.length>0&&e.addEventListener("load",(function(){setTimeout((function(){n.requestQueue.process(r.slots.deferred,!1,!1),r.slots.deferred=[]}),500)}))):a=t,a}}}(),n.docking=n.docking||{},n.docking.leaderboard=function(){"use strict";let r,o,i,s,l,c,f,h,m,b,y,v,k,S,w,T,C,E,z,x,O,I,R,A,L,P,_,q,N,V,D,H,F,B,K,Q,Y,U;function J(){return M.docking=M.docking||{},O=M.docking.leaderboard||{},"boolean"!=typeof S&&(S=d(O.enabled)),M.isMobile&&(S=!1),S&&O.hasOwnProperty("disableSmallScreen")&&O.disableSmallScreen&&e.innerWidth<=1024&&(S=!1),S}function W(){J()&&(Y=!A&&"docked"!==T&&w-L-b<e.pageYOffset,U="docked"===T&&w-L-b>=e.pageYOffset,Y?(n.docking.rail.leaderboardEventHandler("leaderboardDocked"),p(k,(function(e){e.classList.add(m)})),H.dispatchEvent(N),T="docked",C&&!R&&(R=!0,I=new function(t,n){let r,o=n;this.pause=function(){e.clearTimeout(z),o-=new Date-r,a("Rollup timer paused! "+o+" remaining")},this.resume=function(){r=new Date,e.clearTimeout(z),z=e.setTimeout(t,o),a("Rollup timer resumed!")},this.resume()}((function(){A=!0,"docked"===T?G(!0):X()}),f),F.addEventListener("mouseover",I.pause),F.addEventListener("mouseout",I.resume))):U&&G())}function G(t){function r(){F.classList.remove(m),p(k,(function(e){e!==F&&e.classList.remove(m)})),C&&A&&X(),T="undocked",H.dispatchEvent(D),F.classList.remove("undocking")}H.dispatchEvent(V),t?(T="undocking",F.classList.add(T),n.docking.rail.leaderboardEventHandler("leaderboardUndocked",!0),e.setTimeout(r,P)):(n.docking.rail.leaderboardEventHandler("leaderboardUndocked"),r())}function Z(e){if(J()){if(S=!1,M.docking.leaderboard.enabled=!1,j.leaderboardReleasedBy=e,"docked"!==T)return void X();G()}}function X(){p(["touchstart","touchmove","touchend","scroll"],(function(e){t.removeEventListener(e,W)})),e.clearTimeout(z),R&&(F.removeEventListener("mouseover",I.pause),F.removeEventListener("mouseout",I.resume)),I=null}return{init:function(){if(M.docking=M.docking||{},O=O||M.docking.leaderboard||{},h=!1,z=null,f=0,w=0,k=[],x=[],R=!1,A=!1,T="undocked",!(S=J()))return;let e,I;r=O.additionalLogic||[],o=O.backgroundOpacity||".7",i=O.backgroundRGB||"255,255,255",s=O.dockingElementSelector||"",l=O.zIndex||595,c=O.customStyles||"",m=O.dockedClass||"docked",b=u(O.offset)||0,C=d(O.rollUp)||!1,E=u(O.rollUpMs)||1e4,L=u(O.topMargin)||0,P=u(O.transitionMs)||1e3,_=d(O.useCSS)||!0,q=d(O.useDefaultHeight)||!1,H=t.body,F=O.dockingElementSelector?n.dom.lookup(O.dockingElementSelector):null,B=O.belowBannerSelector?n.dom.lookup(O.belowBannerSelector):null,K=O.siteContainerSelector?n.dom.lookup(O.siteContainerSelector):null,Q=null,N=g("leaderboard_docked"),V=g("leaderboard_undocking"),D=g("leaderboard_undocked"),C&&!isNaN(u(E,10))&&(f=E),F&&B&&K?S=S&&n.docking.processAdditionalLogic(r):(a("Missing element for leaderboard docking. Disabling.",{force:!0,level:"warn",doc:"karma-docking"}),S=!1),M.docking.leaderboard&&(M.docking.leaderboard.enabled=S),J()&&(a("initializing docking banner..."),I=F.offsetHeight,Q=n.dom.create("div",B.parentElement,{id:"docking-banner-placeholder"},B),k=function(){const e=[F,Q];return null!==K&&e.push(K),p(x,(function(t){e.push(n.dom.lookup(t,!0,!0))})),e}(),_&&(e=s+"{position:relative;top:0;}#"+Q.id+"{height:0;width:100%;background-color:rgb("+i+")}#"+Q.id+"."+m+"{height:"+I+"px}"+(q?"."+m+" #div-gpt-leaderboard-flex-1{min-height:100px;padding:5px 0;box-sizing:border-box}":"")+"#div-gpt-leaderboard-flex-1{text-align:center;overflow:hidden;box-sizing:border-box;position:relative;left:0;width:100%;top:0;}"+s+"."+m+"{position:fixed;z-index:"+l+";background:rgba("+i+","+o+");top:"+L+"px;left:0;right:0;width:100%;"+(q?"height: 100px":"")+"}"+s+".undocking{top:-"+(I+20)+"px;transition:top 1s;z-index:"+l+";}"+c,n.docking.appendStyleSheetCss(e)),null!==F&&(w=F.offsetTop,v=n.dom.lookup('div[id^="div-gpt-leaderboard"]',!1,!1,F)||{},y=v.id,n.gpt.addCallback((function(e){const r=e.slot.getSlotId().getDomId();r===y&&(function(e,t){let r,o,i,a;return!(!J()||(r=n.slots.getById(t),Array.isArray(e.size)?(a=e.size[0],i=e.size[1]):(a=null!==(o=n.dom.lookup('div[id^="google_ads_iframe"]',!1,!1,n.dom.get(r)))?o.offsetWidth:0,i=null!==o?o.offsetHeight:0),e.isEmpty||0===i||i>90||a>728))}(e,r)?(p(["touchstart","touchmove","touchend","scroll"],(function(e){t.addEventListener(e,W)})),W()):Z("sizeCheck"))}))))},isEnabled:J,forceReleaseBanner:Z,getPosition:function(){return T},getBannerSelectorHeight:function(){if(S){let e,n;return e=F.clientHeight+(n=t.all?parseInt(F.currentStyle.marginTop,10)+parseInt(F.currentStyle.marginBottom,10):parseInt(t.defaultView.getComputedStyle(F,"").getPropertyValue("margin-top"),10)+parseInt(t.defaultView.getComputedStyle(F,"").getPropertyValue("margin-bottom"),10))}return 0}}}(),n.docking=n.docking||{},n.docking.rail=function(){"use strict";let r,o,i=[],s=/karma\-sticky\-(top|stuck|bottom)/,l="karma-sticky-",c="Disabling rail docking: ",u=e.innerHeight,g={};function f(o,d){try{this.railNum=d||0,this.pos,this.name=o.dockingElementSelector,this.identifier="railDockSection-"+this.railNum,this.classIdentifier="."+this.identifier;let g,f=[];if(this.enabled=m(),this.dockingElementSelector=o.dockingElementSelector||!1,this.contentContainerSelector=o.contentContainerSelector||!1,this.mainColumnSelector=o.mainColumnSelector||!1,this.railSelector=o.railSelector||!1,this.customStyles=o.customStyles||!1,this.additionalLogic=o.additionalLogic||[],this.offset=o.offset||0,this.screenSizeThreshold=o.screenSizeThreshold||625,this.dockIfTooTall=o.dockIfTooTall||!1,".karma-sticky-rail"===this.dockingElementSelector&&(this.dockingElementSelector=".karma-sticky-rail:first-child"),this.body=t.body,this.contentContainer=n.dom.lookup(this.contentContainerSelector,!0,!0)[this.railNum],this.contentContainer.classList.add(this.identifier),this.contentContainerSelector=this.classIdentifier+this.contentContainerSelector,this.mainColumnSelector=this.classIdentifier+" "+this.mainColumnSelector,this.dockingElementSelector=this.classIdentifier+" "+this.railSelector+" "+this.dockingElementSelector,this.railSelector=this.classIdentifier+" "+this.railSelector,this.mainColumn=n.dom.lookup(this.mainColumnSelector,!1,!0),this.dockingElement=n.dom.lookup(this.dockingElementSelector,!1,!0),this.rail=n.dom.lookup(this.railSelector,!1,!0),this.contentContainer=n.dom.lookup(this.contentContainerSelector,!1,!0),this.getOffset=function(e){let t=0,n=100;for(;e!==this.body&&null!==e&&0!==n;)t+=e.offsetTop,e=e.offsetParent,n--;return 0!==n&&null!==e||(a(c+"Failed to find offset parent for "+this.dockingElementSelector+"["+this.railNum+"]"),this.releaseAtTop(),this.disable()),t},this.disable=function(){this.enabled=!1},this.releaseAtTop=function(){this.removeInlineStyle(),this.pos=this.update("top")},this.releaseAtBottom=function(){this.pos=this.update("bottom");const e=this.mainColumn.offsetHeight-this.dockingElement.offsetHeight;this.dockingElement.style.top=e+"px",i.indexOf(this)>0&&(this.dockingElement.style.position="relative")},this.removeInlineStyle=function(){"bottom"===this.pos&&(this.dockingElement.style.top="",this.dockingElement.style.position="")},this.park=function(){this.removeInlineStyle(),this.pos=this.update("stuck")},this.update=function(e){return r||(e="top"),-1===this.dockingElement.className.indexOf(l)?this.dockingElement.className+=" "+l+e:this.dockingElement.className=this.dockingElement.className.replace(s,l+e),e},this.check=function(){u<this.screenSizeThreshold||this.mainColumn.offsetHeight<this.rail.offsetHeight||!this.dockIfTooTall&&this.dockingElement.offsetHeight+this.offset>u?this.releaseAtTop():"stuck"!==this.pos&&"bottom"!==this.pos&&e.pageYOffset>this.getOffset(this.dockingPlaceholder)-this.offset?this.park():"top"!==this.pos&&"bottom"!==this.pos?e.pageYOffset<=this.getOffset(this.dockingPlaceholder)-this.offset?this.releaseAtTop():e.pageYOffset+this.offset+this.dockingElement.offsetHeight>this.getOffset(this.mainColumn)+this.mainColumn.offsetHeight&&this.releaseAtBottom():"top"!==this.pos&&"stuck"!==this.pos&&e.pageYOffset+this.offset+this.dockingElement.offsetHeight<=this.getOffset(this.mainColumn)+this.mainColumn.offsetHeight&&this.park()},r&&this.dockingElementSelector&&this.mainColumnSelector&&this.railSelector||r&&(a("Rail #"+(this.railNum+1)+" Disabled: Missing selectors: dockingElementSelector: "+this.dockingElementSelector+", mainColumnSelector: "+this.mainColumnSelector+", railSelector: "+this.railSelector,{level:"warn",doc:"karma-docking"}),this.disable()),n.docking.processAdditionalLogic(this.additionalLogic)||r&&(a(c+"Disabled via additionalLogic",{doc:"karma-docking"}),this.disable()),r&&!this.contentContainer&&(a(c+"Cannot find DOM Element contentContainer for rail #"+(this.railNum+1)+", selector: "+this.contentContainerSelector,{level:"warn",doc:"karma-docking"}),this.disable()),this.body||this.disable(),!this.dockingElement){const e=this.dockingElementSelector;this.dockingElementSelector=this.railSelector+" .karma-rail-docking-element",this.dockingElement=n.dom.lookup(this.dockingElementSelector),this.dockingElement||f.push('dockingElement: "'+e+'"')}if(this.mainColumn||f.push('mainColumn: "'+this.mainColumnSelector+'"'),this.rail||f.push('rail: "'+this.railSelector+'"'),0!=f.length&&(a("Rail #"+(this.railNum+1)+" Disabled: missing elements "+f.join(", "),{force:!0,level:"warn",doc:"karma-docking"}),this.disable()),M.docking.rail&&(M.docking.rail.enabled=r),!(r=m())||!this.enabled)return;this.dockingParent=this.dockingElement.parentElement,g=n.dom.create("div",this.dockingParent,{className:"karma-docking-rail-placeholder",styles:"margin:0;height:0;"},this.dockingElement),this.dockingPlaceholder=g,this.dockingElementSelector+="."+l,this.leaderboardHeight=n.docking.leaderboard.getBannerSelectorHeight(),this.css=this.railSelector+", "+this.dockingElementSelector+"top{position:relative}"+this.dockingElementSelector+"stuck{position:fixed;top:"+this.offset+"px}"+this.dockingElementSelector+"stuck.dockedLeaderboard{top:"+(this.offset+this.leaderboardHeight)+"px}"+this.dockingElementSelector+"stuck.dockedLeaderboard.undockingLeaderboard{top:"+this.offset+"px;transition:top 1s;z-index:500;}"+this.dockingElementSelector+"bottom{position:absolute;}"+this.customStyles,n.docking.appendStyleSheetCss(this.css),this.enabled&&this.check()}catch(e){a(e.toString(),{level:"error",force:!0})}}function h(){p(i,(function(e){e.enabled&&e.check()}))}function m(){return M.docking=M.docking||{},o=M.docking.rail||{},"boolean"!=typeof r&&(r=d(o.enabled)),r}function b(){if(!m())return;let e;".karma-sticky-rail"===(o=M.docking.rail||{}).dockingElementSelector&&(l="karma-element-sticky-",s=/karma\-element\-sticky\-(top|stuck|bottom)/);let t=n.dom.lookup(o.contentContainerSelector,!0,!0)||[],d=0;o.multi||(t=t[0]?t[0]:[]),0===t.length?a(c+"Missing DOM Element contentContainer, selector: "+o.contentContainerSelector,{level:"error",doc:"karma-docking"}):p(t,(function(t){(e=new f(o,d)).enabled&&i.push(e),d++})),0===i.length&&(r=!1),M.docking.rail.enabled=r}function y(e,t){g.event=e,g.useTransition=t,m()&&p(i,(function(t){switch(e){case"leaderboardDocked":t.offset+=t.leaderboardHeight,t.dockingElement.classList.add("dockedLeaderboard");break;case"leaderboardUndocked":t.offset-=t.leaderboardHeight,t.useTransition?(t.dockingElement.classList.add("undockingLeaderboard"),setTimeout((function(){t.dockingElement.classList.remove("undockingLeaderboard"),t.dockingElement.classList.remove("dockedLeaderboard")}),1e3)):t.dockingElement.classList.remove("dockedLeaderboard")}})),h()}return e.addEventListener("orientationchange",(function(){u=e.innerHeight})),p(["touchstart","touchmove","touchend","scroll"],(function(e){t.addEventListener(e,h)})),{init:b,disableAllRails:function(){p(i,(function(e){e.enabled&&(e.releaseAtTop(),e.disable()),r=!1}))},getRails:function(){return i},isEnabled:m,leaderboardEventHandler:y,rebuildRails:function(){if(r){i=[];const e=n.dom.lookup(".karma-docking-rail-placeholder",!0,!0);p(e,(function(e){e.parentNode.removeChild(e)})),b(),i.length>0&&"top"!=i[0].pos&&y(g.event,g.useTransition),h()}}}}(),n.dom=function(){"use strict";function e(e){return(e="string"==typeof e?n.slots.getById(e):e)?(e.dom||(e.dom=t.getElementById(e.slotContainer)),e.dom):null}function o(t){const n=e(t),r=!!n&&!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length);return t.isDisplayed=r,r}function s(e,n,r,o){return n=n||!1,o=o||t,!(r=r||!1)&&j.els.hasOwnProperty(e)?j.els[e]:(j.els[e]="#"===e.charAt(0)?o.getElementById(e.substring(1)):n?o.querySelectorAll(e):o.querySelector(e),j.els[e])}return{isDisplayed:o,scrapeSlots:function(){const e=s('div[id^="div-gpt"]',!0),t=[];let r,o,i;return p(e,(function(e){i=e.dataset,o=i&&n.tiers.isValidTier(i.tier)?i.tier:0,r=e.id+":tier"+o,0===o&&a("Slot "+r+' does not have a valid data-tier attribute. <div id="'+r+'"'+(i.tier?' data-tier="'+i.tier+'"':"")+">. It will be requested as tier0.",{force:!0,level:"warn"}),-1===t.indexOf(r)&&t.push(r)})),0===t.length&&t.push("none"),t},get:e,create:function(e,n,r,o){n=n||!1,o=o||!1;const i=t.createElement(e);return"object"==typeof r&&p(r,(function(e){-1!==e.indexOf("data-")?i.setAttribute(e,r[e]):i[e]=r[e]})),n&&(o?n.insertBefore(i,o):n.appendChild(i)),i},lookup:s,ready:function(e){let n=!1;function o(e,t){n||(n=!0,t&&a(t+", slot setup continuing"),e())}2!==i?M.bypassDOMReady||"loading"===t.readyState?Array.isArray(r.cmd)&&r.cmd.filter((function(e){return"go"===e})).length>0?o(e,"Site already called go"):(M.go=function(){o(e,"Site is calling go")},M.bypassDOMReady||t.addEventListener("DOMContentLoaded",(function(){o(e,"DOMContentLoaded firing")}))):o(e,"DOMContentLoaded already triggered"):o(e)},remove:function(e){return e.parentNode.removeChild(e)},getVisibleSlots:function(t){const n=[];return p(t=t||[],(function(t){o(t)||t.outOfPage||function(t){const n=e(t).dataset,r=n.karmaBypassVisibilityCheck,o=d(r);return void 0!==r&&"processed"!==r&&(t.bypassVisibilityCheck=o,n.karmaBypassVisibilityCheck="processed"),t.bypassVisibilityCheck||!1}(t)?n.push(t):a("Did not request "+t.slotContainer+" because the container is not displayed.",{force:!0,level:"warn"})})),n}}}(),n.gdpr=function(){"use strict";return{defer:function t(n){e.hasOwnProperty("mdp")&&e.mdp.hasOwnProperty("gdpr")&&e.mdp.gdpr.hasOwnProperty("init")?""===v("euConsent")?e.setTimeout((function(){t(n)})):function(e){M.a9Enabled=!1,M.header_tag_managerEnabled=!1,e()}(n):n()},showNonPersonalizedAds:function(){return!(!(""!=v("euConsent")&&e.hasOwnProperty("mdp")&&e.mdp.hasOwnProperty("gdpr")&&e.mdp.gdpr.hasOwnProperty("init"))||d(v("euConsent")))}}}(),n.gpt=function(){"use strict";let e=googletag.mdpScriptCalled||!1,t=!1;function o(e){i((function(){googletag.display(e)}))}function i(e){"function"==typeof e&&googletag.cmd.push(e)}return{addCallback:function(e,t){t=t||"slotRenderEnded","function"==typeof e&&i((function(){googletag.pubads().addEventListener(t,e)}))},clearPageTargeting:function(e){i((function(){googletag.pubads().clearTargeting(s(e))}))},clearSlotTargeting:function(e,t){e&&i(void 0!==t?function(){e.gptSlot().clearTargeting(s(t))}:function(){e.gptSlot().clearTargeting()})},define:function(e,t,r){let o;return n.slots.makeHandle(e),o=e.outOfPage?googletag.defineOutOfPageSlot(t,r).addService(googletag.pubads()):googletag.defineSlot(t,n.slots.convertAdSizes(e),r).addService(googletag.pubads()),e.gptSlot=function(){const e=this.slotContainer,t=googletag.pubads().getSlots().filter((function(t){return t.getSlotElementId()===e}));return!!t.length&&t[0]},o},destroy:function(e){e=Array.isArray(e)?e:[e],i((function(){googletag.destroySlots(e)}))},display:o,displayAllSlots:function(){p(r.slots.catalog,(function(e){e.slotType&&o(e.slotContainer)}))},enable:function(){if(!t){if(t=!0,googletag.pubads().enableSingleRequest(),n.gdpr.showNonPersonalizedAds())a("Showing NPAs",{force:!0}),googletag.pubads().setRequestNonPersonalizedAds(1);else{const e=n.targeting.setMuid();"string"==typeof e&&e.length>0&&googletag.pubads().setPublisherProvidedId(e)}googletag.pubads().disableInitialLoad(),googletag.enableServices()}},getSlotTargeting:function(e){return e.gptSlot().getTargetingMap()},init:function(){googletag.mdpScriptCalled||e||(e=!0,b("https://securepubads.g.doubleclick.net/tag/js/gpt.js",!1,n.kismet.report),googletag.mdpScriptCalled=!0)},queuePush:i,refresh:function(e){i((function(){googletag.pubads().clear(e),googletag.pubads().refresh(e)}))},setPageTargeting:function(e,t){i((function(){googletag.pubads().setTargeting(s(e),s(t))}))},setSlotTargeting:function(e,t,n){void 0!==e&&!1!==e&&i((function(){e.gptSlot().setTargeting(s(t),s(n))}))}}}(),n.kismet=function(){"use strict";return j.kismet={checked:!1,reported:!1},{report:function(e){e=e||"spacer2",null!==n.dom.lookup('img[src$="kismet/'+e+'.png"]')||(b("/kismet/"+e+".png",!1,!1,"img"),j.kismet.reported=!0)}}}(),n.lazyLoad=n.lazyLoad||{},n.lazyLoad.scroll=function(){"use strict";let o,i,s=!1;function l(e){let i,s,l=r.slots.lazyScroll;if(0!==l.length){try{i=e.slot.getSlotElementId()}catch(e){a(e.message,{force:!0,level:"error"})}(s=n.slots.getById(i)).lazyScroll&&(s.lazyScroll="loaded",l=l.filter((function(e){return e.slotContainer!==i})),r.slots.lazyScroll=l,0===l.length&&(t.removeEventListener("scroll",o),t.removeEventListener("click",c)))}}function c(){const e=r.slots.lazyScroll,t=M.lazyScrollBatchSize||1;let o=[],i=0;j.queueExecuted&&(p(e,(function(e){d(e,i)&&(0===i&&(i=t),i--,o.push(e),e.lazyScroll="processing",e.refreshType="scroll")})),o.length>0&&n.requestQueue.process(o))}function d(e,t){const r=Math.abs(n.viewability.getSlotOffsetFromViewport(e)),o=n.dom.isDisplayed(e);return"true"===e.lazyScroll&&o&&(r<i||t>0)}return{check:c,removeLazyScrollSlots:function(a){let g=[];return s||(a=function(a){let d=[];return s=!0,i=u(M.lazyScrollThreshold)||100,p(a,(function(e){const t=n.dom.get(e),r=e.lazyScroll||t.dataset.lazyScroll;"true"===r&&(d.push(e),e.lazyScroll=r)})),r.slots.lazyScroll=d,r.slots.lazyScroll.length>0&&(o=f(c,25),t.addEventListener("scroll",o),t.addEventListener("click",c),e.addEventListener("load",c),n.callbacks.add(l)),a}(a)),p(a,(function(e){"true"===e.lazyScroll?d(e)&&(e.lazyScroll="processing",g.push(e)):g.push(e)})),g}}}(),n.log=function(){"use strict";let t=0,r={},o={};const i=!!e.performance&&"function"==typeof e.performance.now,a=i?performance.timing.responseEnd-performance.timing.fetchStart:0;function s(e,o){"object"==typeof e?e=(o=e).label||"":o=o||{};const s=o.referencePoint||!1,l=o.report||!1,c=o.level?o.level:"red"===o.color?"error":"log",d=(i?Math.floor(performance.now()):0)-a,u=!(!s||!r[s])&&d-r[s].timestamp,g=u?" : "+s+" +"+u:"",f=!("range"!==l||!u)&&function(e){const t=Math.floor(e/100),n=t===e/100?100*t-99:100*t+1;return n+"-"+(n+99)}(u),p=!(!o.label||e===o.label),h=o.force||!1,m=o.doc||!1,b=o.reportLabel||!1;let y;t++,y=o.label||"entry"+t,r[y]={timestamp:d,referencePoint:s,eventDelta:u,eventDeltaMessage:g,consoleMessage:d+(p?" : "+y:"")+" : "+e+g+(f?" ("+f+")":""),report:l,reportLabel:b,reported:!1,level:c},(j.debug||h)&&n.debug.consoleLog(e,c,m)}function l(){let e,t,o,i;if(!n.reporting.reportType())return!1;p(r,(function(a){if((e=r[a]).report&&!e.reported){if(i=e.eventDelta||e.timestamp,t={event:"Timing",CategoryT:"KarmaPerformance",Var:a,Value:i,Label:e.reportLabel||"null"},o={category:a,label:"timing",value:i,contentType:j.unmappedPageType+":"+M.targeting.type,site:M.site},e.reported=!0,0===t.Value)return s("Attempted to send performance timings to GA, but measured value is 0"),!1;if(t.Value>=6e5)return s("Attempted to send performance timing to GA, but measured value exceeds 599,999ms"),!1;n.reporting.report(t,o,"karmaPerformance",a+": "+i)}})),s("karma.report() was called, but there was nothing to report")}return j.logObject=r,{addEventListener:function(){n.gpt.addCallback((function(e){j.slotOnloadLogged||(s("Slot onload event for "+e.slot.getSlotElementId(),{label:"slotOnload",report:!0}),l(),j.slotOnloadLogged=!0)}),"slotOnload")},log:s,report:l,logPartnerEventOnce:function(e,t){const r=n.partner.isSetupRunning();o[e]||(o[e]=!0,s(e+". Win: "+!r,{report:!0,label:e,referencePoint:t,reportLabel:String(!r)}))}}}(),a=n.log.log,n.methods=function(){"use strict";return{init:function(){var e={debug:n.debug.publicDebug,showLog:n.debug.showLog,log:n.log.log,init:n.timeline.init,createSlot:n.lazyLoad.create,fillSlots:n.lazyLoad.fill,destroySlot:n.slots.destroy,updateTargeting:n.targeting.setObj,getSlotById:n.slots.getById,getSlotCount:n.slots.getSlotCount,disableTimedRefreshOnSlot:n.refresh.timed.disableTimedRefreshOnSlot,reEnableTimedRefreshOnSlot:n.refresh.timed.reEnableTimedRefreshOnSlot,releaseDocking:n.docking.disableDocking,report:n.reporting.segmentReport,isInView:n.viewability.isInView,refresh:n.refresh.startRefresh,purgeRefreshSlots:n.refresh.purgeSlots,rebuildRails:n.docking.rail.rebuildRails};p(e,(function(t){r[t]=e[t]}))}}}(),n.partner=n.partner||{},n.partner.a9=function(){"use strict";j.a9={slots:{}};let r=[];function o(e){const t=[];return p(e||j.a9.slots,(function(e){e.a9Sizes=n.slots.getSizes(e,"A9")||[],t.push(e)})),t.map((function(e){return{slotID:e.slotContainer,sizes:e.a9Sizes,slotName:e.handle.hbSlotName}}))}function i(e){return j.a9.slots[e]||!1}return{load:function(){!function(e,t,n,r,o,i,a){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},_Q:[]},(i=n.createElement(r)).async=!0,i.src="https://c.amazon-adsystem.com/aax2/apstag.js",(a=n.getElementsByTagName(r)[0]).parentNode.insertBefore(i,a))}("apstag",e,t,"script"),apstag.init({pubID:M.a9PubId,adServer:"googletag",deals:!0,params:{si_pagegroup:M.targeting.channel}})},fetchBids:function(e,t,s){const l=n.partner.getTimeoutLengths(t);let c,d=!1,u=!1;function g(e){let t;p(e,(function(e){(t=i(e.slotID))&&(t.a9Targeting=e.targeting,t.a9Targeting.size=e.size,t.a9Targeting.slotID=e.slotID)}))}function f(e,t){switch(typeof t){case"undefined":t=i(e.slotID);break;case"string":t=i(t)}P((function(){r=apstag.targetingKeys()||[],Array.isArray(r)||(r=[],a("Unexpected format for a9TargetingKeys: "+typeof apstag.targetingKeys()))})),t&&p(e.helpers.targetingKeys,(function(r){n.targeting.set(r,e.targeting[r],t)}))}function h(e){return Array.isArray(e)?e:(a("Unexpected data structure from a9. Ignoring response.",{force:!0,level:"warn"}),[])}e=e.filter((function(e){return!0===e.a9})),a({label:"a9FetchStart"}),p(e,(function(e){delete e.a9Targeting,p(r,(function(t){n.targeting.clear(t,e)}))})),a("starting a9 timeout: "+l.karmaEnforced),a("passing timeout to a9: "+l.partnerEnforced),P((function(){apstag.fetchBids({slots:o(e),timeout:l.partnerEnforced},(function(e){P((function(){!function(e,t,r,o,a){n.log.logPartnerEventOnce("a9Loaded","a9FetchStart"),e=a(e),d||(p(e,(function(e){e.hasOwnProperty("slotID")&&o(e,i(e.slotID))})),u=!0,clearTimeout(c),r(e),"function"==typeof t&&t())}(e,s,g,f,h)}))}))})),c=setTimeout((function(){d=!0,u||(a("a9 did not load before karma-enforced timeout period ended. "+l.karmaEnforced+"ms",{force:!0,level:"warn"}),s())}),l.karmaEnforced)}}}(),n.partner=n.partner||{},n.partner.adLightning=function(){function e(){return!!M.adLightningEnabled}return{load:function(){e()&&b("https://tagan.adlightning.com/meredith/op.js",(function(){a("adlightning loaded.")}),(function(){a("Failed to fetch adlightning.",{level:"error",force:!0}),M.adLightningEnabled=!1}))},isEnabled:e}}(),n.partner=n.partner||{},n.partner.header_tag_manager=function(){"use strict";let t,r;function o(){return M.header_tag_managerEnabled}function i(t){P((function(){e.headertag.cmd.push(t)}))}return j.header_tag_manager={slots:{}},e.headertag=e.headertag||{},e.headertag.cmd=e.headertag.cmd||[],{fetchBids:function(t,r,o){const s=function(e){const t=[];return(e=e||[]).forEach((function(e){t.push({slot:e.gptSlot()})})),t}(t),l=n.partner.getTimeoutLengths(r);let c,d=!1,u=!1,g=[];function f(e){e?a("headertag error: "+e,{force:!0,level:"error"}):(u=!0,clearTimeout(c),d||(n.log.logPartnerEventOnce("header_tag_managerLoaded","header_tag_managerFetchStart"),o()))}p(t,(function(e){g.push(e.slotContainer)})),g=g.join(", "),0!==s.length?(a({label:"header_tag_managerFetchStart"}),a("Requesting headertag demand for the following slots: "+g),i((function(){e.headertag.retrieveAndSetDemand(s,f)})),a("Starting htm timeout: "+l.karmaEnforced),c=setTimeout((function(){d=!0,u||("hard"===r&&n.log.logPartnerEventOnce("header_tag_managerFailsafe","header_tag_managerFetchStart"),a("header_tag_manager did not load before the "+l.message+" timeout period ended. "+l.karmaEnforced+"ms",{force:!0,level:"warn"}),o())}),l.karmaEnforced)):o()},load:function(){if(o()){const e=function(){const e=M.header_tag_managerSiteId;return e?"https://js-sec.indexww.com/ht/p/184003-"+e+".js":(M.header_tag_managerEnabled=!1,!1)}();e&&b(e,(function(){a("Index site-specific wrapper loaded: "+e)}),(function(){a("Failed to fetch site-specific Index wrapper ("+e+"). Disabling Header Tag Manager.",{level:"error",force:!0}),M.header_tag_managerEnabled=!1}))}i((function(){t=e.headertag.subscribeEvent("error",!1,(function(e,t){a("headertag "+e+": "+t,{force:!0,level:"error"})})),r=e.headertag.subscribeEvent("warning",!1,(function(e,t){a("headertag "+e+": "+t,{force:!0,level:"warn"})}))}))},isEnabled:o}}(),n.partner=n.partner||{},n.partner.indexVideoWrapper=function(){"use strict";function r(e,t){j.preRollHbKeys=t}return{init:function(){const o=M.indexPrerollLibrary;if(!o)return;const i=function(){const e=t.querySelector(".video-js");if(e&&e.dataset&&e.dataset.videoId)return e.dataset.videoId}();i&&(a("Initializing preroll headerbidding"),n.utilities.fetchResource(o),e.indexapi=e.indexapi||{},e.indexapi.deferQueue=e.indexapi.deferQueue||[],e.indexapi.deferQueue.push((function(){e.indexapi.solicitIndexVideoAds(function(t){const r=e.encodeURIComponent(e.location.href),o={sz:"640x360",iu:n.targeting.adunit.getVideoAdUnit(),impl:"s",gdfp_req:1,env:"vp",output:"xml_vast4",vid:t,description_url:r,unviewed_position_start:1,ad_rule:0,cmsid:2461872,url:r};let i="https://pubads.g.doubleclick.net/gampad/ads?";return p(o,(function(e){i+=e+"="+o[e]+"&"})),i.substring(0,i.length-1)}(i),r)})))}}}(),n.partner=n.partner||{},n.partner.krux=function(){"use strict";j.krux={};const t={ag:"JRoWQaUI",apq:"H1F_TlEO",ar:"H1gAR3V7",arau:"sg1om95vj",arqc:"sg1opb0v8",aruk:"sg1on5r81",bestlife:"r7ryipnzb",eatthis:"JiHjHhdy",ew:"HzmKKqga",fitness:"Hx-jOfl8",ironsearch:"qv87qy67c",kraftrecipes:"J3PaNqyn",lcl:"H2PLHlP9",more:"Hx-kJeN4",mslo:"Jev6eSh4",msw:"JgW_p8se",mwl:"Hx-jyMhC",mywedding:"JkyHaw4V",parenting:"I8bdKg8O",parents:"Hx-jYyFN",rachaelraycom:"sbjglir59",rrmag:"Hx-j8JTy",shape:"JrTSGDtz",sm:"IRS-MeLy",sp:"IRS98pZ6",tradhome:"H1F_wjNl",wood:"HyfTJT5Z"};let r;function o(){r&&null===n.dom.lookup('script[src*="cdn.krxd.net/controltag"]')&&(e.Krux||((e.Krux=function(){e.Krux.q.push(arguments)}).q=[]),n.dom.create("script",j.els.head,{type:"text/javascript",async:!0,src:"https://cdn.krxd.net/controltag/"+r+".js"}))}return{init:function(){r=j.krux.id=function(){const e=T();return!!t.hasOwnProperty(e)&&t[e]}(),o()},load:o,targeting:function(){let t,r;function o(t){const n="kxmeredith_"+t;return O()?e.localStorage[n]||"":v(n)}e.Krux||((e.Krux=function(){e.Krux.q.push(arguments)}).q=[]),t=o("user"),r=o("segs")?o("segs").split(","):[],e.Krux.user=t,e.Krux.segments=r,n.targeting.set("kuid",t),n.targeting.set("ksg",r)}}}(),n.refresh=n.refresh||{},n.refresh.timed=function(){"use strict";const t={},o=["scroll","focus","blur"];let i,s,c,d,u,g,h=[],m=!1;function b(e){const t=e.timedRefresh||{};a("Pausing timer for "+e.slotContainer+": "+t.timer),t.timerRunning=!1,clearInterval(t.interval),t.interval=!1}function y(e,t){const r=e.timedRefresh||{};r.timerRunning=!0,r.duration=t/=1e3,("number"!=typeof r.timer||r.timer<=0)&&(r.timer=t),a("Starting timer for "+e.slotContainer+": "+r.timer),r.interval=setInterval(function(e){return function(){e.timedRefresh.timer--,e.timedRefresh.timer>0||!n.slots.getById(e.slotContainer)||(b(e),v(e)&&("swap"===e.timedRefresh.mode?function(e){const t=n.dom.get(e),r=e.timedRefresh,o=r.swap;let i=!1;if(!r.filled&&e.requested&&null!==t){t.id=o.replace("div-gpt","karma-reload-container"),t.style.height=t.clientHeight+"px",t.style.width=t.clientWidth+"px",n.slots.destroy(e.slotContainer);const r=n.lazyLoad.create(o,t,!1,(function(){t.style.height="",t.style.width=""}),{refreshType:"swap"}).id,s=n.slots.getById(r);a("Swapping "+e.handle.full+" to "+s.handle.full),s.refreshCount=e.refreshCount||0,s.shouldIncrementRefresh=!0,n.lazyLoad.fill(),i=!0}else a("Tried to swap "+t.id+", but failed. Disabling swap on this slot."),w(e)}(e):"refresh"===e.timedRefresh.mode&&(e.shouldIncrementRefresh=!0,e.refreshType="timed",n.requestQueue.process([e]))))}}(e),1e3)}function v(e){return n.viewability.isInView(e)}function k(){if(!S())return;const d=function(){const a=h.length;let d,u,g,f,b;return i=r.slots.catalog,p(i,(function(e){if("object"!=typeof e.timedRefresh&&(e.timedRefresh={}),!e.handle||!e.handle.full)return!1;if(!t.hasOwnProperty(e.slotContainer)&&!1!==e.timedRefresh.enabled)for(b=0;b<a;b++){if(d=h[b],u=Object.keys(d)[0],g=d[u],n.slots.matchHandle(e,u)){f=l(g),t[e.slotContainer]=f,s++,e.timedRefresh=f,f.mode=g.hasOwnProperty("swap")?"swap":"refresh";break}e.timedRefresh.enabled=!1}})),s>0&&!m?(m=!0,p(o,(function(t){e.addEventListener(t,c)}))):s<=0&&m&&(m=!1,p(o,(function(t){e.removeEventListener(t,c)}))),!0}();let u,f,k;if(s>0){if(!d)return void a("An ad slot is missing a handle. Aborting slot swap.",{force:!0,level:"warn"});p(t,(function(e){f=n.slots.getById(e),u=function(e){let t=!1;return v(e)&&!function(e){return e.timedRefreshOverride||!1}(e)&&(t=!0,e.timedRefreshOverride=!1),t}(f),k=function(e){const t=e.refreshIntervalOverrides,r=e.timedRefresh.mode||"refresh";let o=2e4;return t&&t[r]?o=t[r]:g[r]&&g[r][e.tierString]&&(o=g[r][e.tierString]),n.partner.isAnyPartnerEnabledOnSlot(e)&&(o-=1e3*Math.ceil(M.bidTimeouts.timed/1e3)),o}(f),f.requested&&!f.timedRefresh.timerRunning&&u?y(f,k):!u&&f.timedRefresh.timerRunning&&b(f)}))}}function S(){return!!(M.refresh&&M.refresh.timed&&M.refresh.timed.enabled&&M.refresh.timed.map&&"object"==typeof M.refresh.timed.map&&M.refresh.timed.map.length>0)||(a("Timed refresh disabled for this page by config."),!1)}function w(e){delete t[e.slotContainer],e.timedRefresh=e.timedRefresh||{},e.timedRefresh.enabled=!1,s--}return{check:k,disableTimedRefreshOnSlot:function(e,r){const o=n.slots.getById(e);r=r||!1,function(e){return e&&t.hasOwnProperty(e.slotContainer)&&!e.timedRefreshOverride}(o)&&(o.timedRefreshOverride=!0,r?(b(o),w(o)):k(),a("disableTimedRefreshOnSlot(): "+(r?"Permanently":"Temporarily")+" disabling timed refresh on "+e))},getActiveMap:function(){return t},init:function(){S()&&(i=r.slots.catalog,d=M.refresh||{},u=d.timed||{},g=u.intervals||{},h=u.map||[],s=0,c=f(k,250),e.addEventListener("message",(function(e){if("string"==typeof e.data&&-1!==e.data.indexOf("karmaStopRefresh"))try{const t=JSON.parse(e.data);n.refresh.timed.disableTimedRefreshOnSlot("div-gpt-"+t.slot,!0)}catch(e){a(e.toString(),{level:"error",force:!0})}}),!1),k())},isEnabled:S,pauseSlotTimer:b,reEnableTimedRefreshOnSlot:function(e){const r=n.slots.getById(e);r&&t.hasOwnProperty(e)&&r.timedRefreshOverride&&(r.timedRefreshOverride=!1,k(),a("Re-enabling timed refresh on "+e))},removeSlot:w,resetSlotTimer:function(e){const t=e.timedRefresh||{};t.timer=t.duration,a("Resetting timer for "+e.slotContainer+": "+t.timer)},startSlotTimer:y}}(),n.reload=function(){"use strict";return{checkParams:function(e){e=e||"footer";const t=!!n.dom.lookup('script[src*="karma.mdpcdn.com"][data-reloaded="true"]'),r=S(e,t)||[],o=""===r[1]||void 0===r[1]?"www":r[1],s=!r[2]||"js-min"===r[2],l=n.urlVars.get("adTestEnv"),c=n.urlVars.get("adTestMin"),d=r[3]?r[3]:3===i?"karma.js":"karma."+e+".js",u=j.environment=l||o,g=j.minified=JSON.parse(c||"local"===u&&u!==o?"false":s),f="www"===u?"":u+".";let p;return j.scriptPath=r[0]||!1,o===u&&s===g||t?(j.reloaded=t,!1):(p="https://"+f+"karma.mdpcdn.com"+("local"===u?":9999":"")+"/service/js"+(!0===g?"-min":"")+"/"+d,j.scriptPath=p,j.reloaded=!0,j.ready=!1,n.dom.create("script",j.els.head,{src:p,"data-reloaded":"true"}),a("Reloading KARMA "+e+" due to testing URL param. Env: "+u+", Min: "+g,{force:!0}),!0)}}}(),n.reporting=function(){"use strict";let t,o=!1;function i(){const e=M.reportingEnabled;return null===n.urlVars.get("runKarmaTests")?"ga"!==e&&"segment"!==e?(o||(a("Reporting is misconfigured or not enabled for this site. No reports sent."),M.reportingEnabled=!1),o=!0,!1):"segment"===e?e:t?e:(o||(a("GA reporting is enabled for this site, but this pageview didn't fall inside the sample rate of "+M.reportingSampleRate+"%. No reports sent."),M.reportingEnabled=!1),o=!0,!1):(o||(a("GA reporting is enabled for this site, but we're on an automated testing page. No reports sent."),M.reportingEnabled=!1),o=!0,!1)}function s(t,n,r,o){const s=i();"ga"===s&&"object"==typeof e.dataLayer&&"function"==typeof e.dataLayer.push&&"object"==typeof t?(e.dataLayer.push(t),a("Reported to GA: "+o)):"segment"===s&&"object"==typeof e.analytics&&"function"==typeof e.analytics.track&&(e.analytics.track(r,n),a("Reported to Segment: "+r+": "+JSON.stringify(n)))}function l(){const e=n.slots.getSlotIdTierCombos(r.slots.catalog),t={event:"adRequest",karmaAdSlots:e,karmaPageType:j.unmappedPageType+":"+n.targeting.get("type"),karmaChannel:n.targeting.get("channel"),karmaId:n.targeting.get("id")};s(t,t,"karmaRequest",e.join())}return j.reporting={},{segmentReport:function(e,t){s(!1,{category:e,label:"tracking",value:t,contentType:j.unmappedPageType+":"+M.targeting.type,site:M.site},e)},init:function(){M.reportingSampleRate=M.reportingSampleRate||0,t=_(M.reportingSampleRate),l()},report:s,reportType:i,initialSlots:l,lazyLoadSlot:function(e){const t={event:"adSlotLazyLoad",karmaAdSlots:[e],karmaPageType:j.unmappedPageType+":"+n.targeting.get("type"),karmaChannel:n.targeting.get("channel"),karmaId:n.targeting.get("id")};s(t,t,"karmaRequest",e)}}}(),n.requestQueue=function(){"use strict";const o=[];let i,s=[],l=0;function c(e){return e.map((function(e){return e.gptSlot()}))}function d(e){if(e=u(e=e||[]),e=n.lazyLoad.scroll.removeLazyScrollSlots(e),e=function(e){const t=M.maxActiveSlots||999,n=[],r=[];return p(e,(function(e){o.indexOf(e.slotContainer)>-1?n.push(e):o.length<t?(e.overMax=!1,o.push(e.slotContainer),n.push(e)):(e.overMax=!0,r.push(e.slotContainer),"processing"===e.lazyScroll&&(e.lazyScroll="true"))})),n.length<e.length&&a("Max active slot threshold("+t+") hit. Not requesting: "+r,{level:"warn",force:!0}),n}(e=n.dom.getVisibleSlots(e)),j.queueExecuted||(e=n.deferred.init(e,t.readyState)),Array.isArray(e)&&e.length>0&&(s=s.concat(e)),0!==s.length)if(j.requestInFlight)a("Refresh called, but Karma is still processing the previous ad request. Adding "+e.length+" slots to the refresh queue.");else{l+=s.length,j.requestInFlight=!0;const t=c(e=s.slice(0));s=[],a("Refresh running on "+e.length+" slots."),n.refresh.targeting(e),n.partner.initDemandFetch(e,t)}}function u(e){const t=[];return p(e,(function(e){const r=n.dom.get(e);null===r||null===r.parentElement?n.slots.destroy(e.slotContainer):t.push(e)})),t}return{init:function(){i=g("karmaRequest"),n.gpt.addCallback((function(){0==--l&&(j.requestInFlight=!1,s.length>0?d(!1):j.queueExecuted&&n.refresh.timed.check())}))},process:d,finishRequest:function(t){let o=u(t);const a=r.slots.catalog.map((function(e){return e.slotContainer})),s=(o=o.filter((function(e){return a.indexOf(e.slotContainer)>-1}))).map((function(e){return{slotContainer:e.slotContainer,refreshType:e.refreshType}}));q()||(i.detail=JSON.stringify(s)),e.dispatchEvent(i),l-=t.length-o.length,n.bidz.setFloors(o),n.targeting.prerequest(),n.docking.targeting(),n.targeting.ready(),n.translate.targetingReady(),n.refresh.incrementRefreshCounter(o),n.gpt.refresh(c(o))},removeFromActiveSlots:function(e){return e&&o.splice(o.indexOf(e),1),o}}}(),n.selectable=function(){"use strict";j.selectable={};const e={ag:{www:"LNhxaZJk",dev:"JWilnmZa"},aly:"AQpgugKT",apq:"DxnXoOoU",ar:{www:"ioRpChND",test:"QwsqdaRG"},arau:"nsPuedjs",arqc:"pNUDrUff",aruk:"TexCxYkZ",bestlife:"cUSLhXni",bhg:{www:"vnVjmqxi",dev:"FVffvCLg"},ckl:"DkGbnbKY",col:"tlXUypEe",dep:"ZQYBEdmc",eatthis:"fnrULVjH",enw:"bPxqAvRO",ew:"lZFhoFLn",fansided:"zDTcDYxa",fc:{www:"iXsOtfgp",dev:"vIHxFPcw"},fitness:{www:"BLqmlLoN",dev:"eTGwXPRM"},fw:"qmjlIKrW",hellogiggles:"XcrQIMhE",hlt:"qBEZIJUa",ins:"meecEJMw",ironsearch:"zWDmYetc",kraftrecipes:"oZUalSrh",lcl:"mFgozflB",money:"ctRICFOE",more:"WrflNRqT",mre:"LdNlwIfb",mslo:"nNKBTXZy",msw:"StszHoSl",mwl:{www:"xshWdqAj",dev:"waceCxtV"},mywedding:{www:"aAoKYyNy",dev:"aebYbbqj"},parenting:{www:"PuuCSkBY",dev:"esZwwWOU"},parents:{www:"rjvsxjLh",dev:"KuuyegZm"},peo:"exskEZha",pesp:"lPluBfVP",rsm:"yHAKmYHF",shape:{www:"fRhMKNqJ",dev:"IdDjQTmo"},si:"ozXbixKT",sm:"gDWwdEKH",sol:"WwSRxjYJ",sp:"obnddfke",tl:"PnvHlINd",tradhome:{www:"ViCOwHAc",dev:"kgucScHr"},wood:"erJgFIuB"};function r(){const e=j.selectable.id;let r,o,i;e&&(i=s(n.urlVars.get("tgt_path")||"p/"+e),(r=t.createElement("script")).type="text/javascript",r.async=!0,r.src="https://cdn.selectablemedia.com/tg/"+i+"/js/sm_uber.js",(o=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,o))}return{init:function(){n.gdpr.showNonPersonalizedAds()||(j.selectable.id=function(){const t=T(),r=k();let o;return n.translate.resetAdDomain(),e.hasOwnProperty(t)&&("string"==typeof e[t]?o=e[t]:e[t].hasOwnProperty(r)?o=e[t][r]:"local"===r&&e[t].hasOwnProperty("dev")&&(o=e[t].dev),o||(o=e[t][Object.keys(e[t]).pop()])),o}(),r())},load:r}}(),n.slots=function(){"use strict";const e=[],i={};function s(e){return e.isMobile&&o||!e.isMobile&&!o}function l(e,t){const n=(t=t||"Slot").toLowerCase();if(e.responsive){const r=e["responsive"+t+"Sizes"]||{};return r.base=e[n+"Sizes"],r[y(Object.keys(r))]}return e[n+"Sizes"]}function c(e){return r.slots.catalog.filter((function(t){return e===t.slotContainer}))[0]||!1}function d(e){return!!("object"==typeof e&&e.hasOwnProperty("slotContainer")&&e.slotContainer.indexOf("-lazy-")>0)}function g(e,t){if(void 0===typeof e)return a("Tried to match handle, but slot is undefined",{force:!0}),!1;if(!e.handle)return a("No handle is available for slot: "+e.slotContainer,{force:!0}),!1;if(e.handle.full===t)return!0;const n=e.handle,r=t.match(/^([a-zA-Z\-]*)(?::tier)?(\d)?:?(\d+)?$/)||[],o=r[1],i=r[2],s=r[3];let l=!0;return(o!==n.type||i!==String(n.tier)&&void 0!==i||s!==String(n.instance)&&void 0!==s)&&(l=!1),l}return{init:function(){const e=n.config.slots.build(n.dom.scrapeSlots(),M.site,r.slots.siteSpecific),t=r.slots.catalog=r.slots.catalog.concat(e.adSlots),o=[];r.slots.lazy=e.lazySlots,p(t,(function(e){(s(e)||"interstitial"===e.slotType)&&o.push(e)})),r.slots.catalog=o},define:function(){const t=r.slots.catalog;let o,i;return p(t,(function(t){o=n.targeting.adunit.build(t),t.hasOwnProperty("slotType")&&(i=n.gpt.define(t,o,t.slotContainer),e.push(i),n.targeting.slotSetup(t))})),e},convertAdSizes:function(e){const t=l(e),n=[];return p(t,(function(e){"fluid"===e||Array.isArray(e)?n.push(e):(e=e.split("x"),n.push([u(e[0]),u(e[1])]))})),n},makeHandle:function(e){const t=e.tier,n=e.slotType,r=n+":tier"+t,o=e.slotContainer.match(/(fixed|flex)/),a=o?o[0]+"-":"",s=d(e)?"lazy-":"";let l=i[r]||0;l++,e.handle={full:r+":"+l,type:n,tier:parseInt(t,10),instance:l,hbSlotName:s+n+"-"+a+"tier"+t}},matchHandle:g,matchHandleArray:function(e,t){let n=!1;return t=Array.isArray(t)?t:[],p(t,(function(t){g(e,t)&&(n=!0)})),n},injectOutOfPageSlots:function(){M.suppressInterstitial||(a("Creating KARMA interstitial slot."),n.dom.create("div",t.body,{id:"div-gpt-interstitial","data-tier":1})),a("Creating KARMA wallpaper slot."),n.dom.create("div",t.body,{id:"div-gpt-wallpaper","data-tier":1})},isValidSlotForDevice:s,getSlotIdTierCombos:function(e){return(e=Array.isArray(e)?e:[]).map((function(e){return e.slotContainer+(e.tierString?":"+e.tierString:"")}))},getSlotCount:function(){return r.slots.catalog.length},getById:c,getSizes:l,setResponseData:function(e){const t=c(e.slot.getSlotId().getDomId());t&&(t.requested=!0,t.creativeId=e.creativeId,t.lineItemId=e.lineItemId,t.isEmpty=e.isEmpty,t.size=e.size)},isLazy:d,destroy:function(e){const t=c(e);return t&&(n.lazyLoad.removeFromQueue(e),n.gpt.destroy(t.gptSlot()),n.partner.removeSlotFromAll(e),n.refresh.removeSlot(e),n.refresh.timed.removeSlot(t),r.slots.catalog=r.slots.catalog.filter((function(t){return t.slotContainer!==e})),n.requestQueue.removeFromActiveSlots(e),n.translate.slots()),!1}}}(),n.tiers=function(){"use strict";function e(e){return void 0!==e&&!isNaN(parseInt(e,10))&&e>=0&&e<=4}return{getFromType:function(e){const t=e.indexOf("tier");return-1!==t&&e.charAt(t+4)},isValidTier:e,setTierSettings:function(t,n,r){if(e(t)){const e=n.slotContainer.replace(/-\d+$/i,""),r="tier"+t;n.tier=parseInt(t),n.tierString="tier"+t,M.tiers&&M.tiers[e]&&M.tiers[e][r]&&p(M.tiers[e][r],(function(t){n[t]=M.tiers[e][r][t]}))}}}}(),n.translate=function(){"use strict";function t(){return 2===i}function o(e,t,n,r){a("You called "+e+", which has been deprecated. "+(t&&""!==t?"You should call karma."+t+" instead. ":""),{force:!0,level:"warn",doc:"api-method-changes-in-karma-3"}),"function"==typeof n&&n.apply(this,r)}function s(){t()&&(e.adService.adSlotsById={},r.slots.catalog.forEach((function(t){e.adService.adSlotsById[t.slotContainer]=t})))}return{convertConfig:function(){if(t()){e.adService=e.adService||{};const t=e.adService.unitValues||{},n=e.adService.pageTargetingValues||{};r.config.onPageSettings.config=e.adService!=={}?e.adService:{},r.config.isMobile=e.adService.mobileAds||!1,p(t,(function(e){"adDomain"===e?r.config.site=t[e]:r.config.targeting[e]=t[e]})),p(n,(function(e){r.config.targeting[e]=n[e]})),r.config.suppressInterstitial=e.adService.suppressInterstitial||!1,r.config.header_tag_managerEnabled=e.adService.header_tag_managerEnabled||!1,r.config.a9Enabled=e.adService.a9Enabled||!1,r.config.refreshSlotTypes=e.adService.refreshSlotTypes||[],e.adService.hasOwnProperty("callback")&&("function"==typeof e.adService.callback&&(a("adService.callback is a function. It should be an array of functions. You should use window.karma.config.callback anyway.",{force:!0,level:"warn",doc:"karmaconfigcallback"}),e.adService.callback=[e.adService.callback]),r.config.hasOwnProperty("callback")?("function"==typeof r.config.callback&&(a("karma.config.callback is a function. It should be an array of functions.",{force:!0,level:"warn",doc:"karmaconfigcallback"}),r.config.callback=[r.config.callback]),"object"==typeof r.config.callback&&r.config.callback.push(e.adService.callback)):r.config.callback=e.adService.callback)}},init:function(){t()&&(e.adService=e.adService||{},e.adService.mobileAds=r.config.isMobile,e.adService.unitValues={},e.adService.unitValues.adDomain=r.config.site,e.adService.unitValues.channel=r.config.targeting.channel,e.adService.unitValues.parent=r.config.targeting.parent,e.adService.unitValues.child=r.config.targeting.child,e.adService.pageTargetingValues=r.config.targeting,e.adService.siteSettings=r.config.static,e.adService.docking=r.config.docking,e.adService.refresh=r.config.refresh,e.adService.callback=r.config.callback,e.adService.apiVersion=i,"3"!==i&&a("You are using an out-of-date version of KARMA. You should upgrade to K3:",{force:!0,level:"warn",doc:"karma-3-migration-guide"}),e.adService.adUnit={top:n.targeting.adunit.buildTop(),sub:n.targeting.adunit.buildSub()},e.adService.mdpPageCount=j.pageCount,function(){const t=[{func:"createLazyLoadSlot",newName:"createSlot",fn:n.lazyLoad.create},{func:"fillLazyLoadSlots",newName:"fillSlots",fn:n.lazyLoad.fill},{func:"updatePageTargeting",newName:"updateTargeting",fn:n.targeting.setObj},{func:"updateSlotTargeting",newName:"updateTargeting",fn:n.targeting.legacyUpdateSlot},{func:"buildDefaultRefreshSlots",newName:"",fn:n.refresh.buildDefaultSlots},{func:"addToRefreshSlots",newName:"createSlot(slotName, container, autofill, callback, {refreshable: true})",fn:n.refresh.addSlot},{func:"purgeRefreshSlots",newName:"createSlot(slotName, container, autofill, callback, {purgeRefreshSlots: true})",fn:n.refresh.addSlot},{func:"removeFromRefreshSlots",newName:"",fn:n.refresh.removeSlot},{func:"destroySlot",newName:"destroySlot",fn:n.slots.destroy},{func:"addToCallbackList",newName:"config.callback.push",fn:n.callbacks.add},{func:"getSlotCount",newName:"getSlotCount",fn:n.slots.getSlotCount},{func:"isInView",newName:"isInView",fn:n.viewability.isInView},{func:"disableTimedRefreshOnSlot",newName:"disableTimedRefreshOnSlot",fn:n.refresh.timed.disableTimedRefreshOnSlot},{func:"forceReleaseBanner",newName:"releaseDocking",fn:n.docking.leaderboard.forceReleaseBanner},{func:"createInfiniteScrollSlot",newName:"createSlot",fn:n.lazyLoad.create},{func:"fillInfiniteScrollSlots",newName:"fillSlots",fn:n.lazyLoad.fill}];e.adService.renderAds={lazyLoadSlotsFillQueue:j.slotFillQueue},p(t,(function(t){e.adService.renderAds[t.func]=function(){o("adService.renderAds."+t.oldName,t.newName,t.fn,arguments)}})),e.adService.debug=function(){o("adService.debug","debug",n.debug.publicDebug,arguments)},e.adService.showLog=function(){o("adService.showLog","showLog",n.debug.showLog,arguments)}}(),e.refreshAdFrame=function(){o("refreshAdFrame","refresh",n.refresh.startRefresh,arguments)},s())},isEnabled:t,queue:function(){e.adServiceQ=e.adServiceQ||[],e.karma.cmd=null!=e.karma.cmd&&"object"==typeof e.karma.cmd?e.adServiceQ.concat(e.karma.cmd):e.adServiceQ.slice()},ready:function(){t()&&(adService.queueExecuted=j.queueExecuted),e.adServiceQ=e.karma.cmd},resetAdDomain:function(){t()&&(r.config.site="")},slots:s,targetingReady:function(){t()&&(e.adService.pageTargetingReady=j.targetingReady)}}}(),n.urlVars=function(){"use strict";const t=decodeURIComponent(e.location.search);function n(){const e={};return t.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,n,r){e[n.toLowerCase()]=r})),e.testValues=i(),e.serviceValues=i("service"),j.url=e,e}function o(e){return j.url[e.toLowerCase()]||null}function i(e){var n;e=((n=e)?n.replace(/\b\w+/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):"")||"";const r={};return t.replace(new RegExp("[?&]adtest"+e+"keyvalues=([^&]*)","i"),(function(e,t){p(t.split("-"),(function(e){let t=e.split(",");r[t[0]]=t[1]}))})),r}return n(),{setTestValues:function(){const e=j.url.serviceValues;let t,n,o;p(e,(function(i){t=i.split("."),n=r.config,o=t.length,p(t,(function(t,r){r===o-1?n[t]=c(e[i]):(n[t]=n.hasOwnProperty(t)?n[t]:{},n=n[t])}))}))},get:o,init:n,isTrue:function(e){return"true"===o(e.toLowerCase())},urlContainsEmail:function(){return e.location.href.match(/[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?/gi)}}}(),n.viewability=function(){"use strict";const r="object"==typeof t.body&&"function"==typeof t.elementFromPoint&&"function"==typeof addEventListener;let o=!0;return{isInView:function(e,r){let i=!0;"string"==typeof e&&(e=n.slots.getById(e));const s=e.viewabilityDom=function(e){let t=!1;return e?(e.firstChild&&(e.firstChild.firstChild&&(e.firstChild.children.length>1?t=e.firstChild:"IFRAME"===e.firstChild.firstChild.tagName&&(t=e.firstChild.firstChild)),!1===t&&(t=e.firstChild)),t):t}(n.dom.get(e));if(!s)return a("Could not get viewability element: "+e.slotContainer,{level:"error",force:!0}),!1;const l=s.getBoundingClientRect(),c=[[Math.round(l.left+1),Math.round(l.top+1)],[Math.round(l.right-1),Math.round(l.top+1)],[Math.round(l.right-1),Math.round(l.bottom-1)],[Math.round(l.left+1),Math.round(l.bottom-1)]];let d,u,g,f,p;if(!(r||o&&"visible"===t.visibilityState))return!1;if("mob-adhesive-banner"===e.slotType)return!0;if(function(e){return!(!M.hasOwnProperty("alwaysRefreshDockedSlots")||!M.alwaysRefreshDockedSlots||!1===M.docking.rail.enabled)&&function(e,t,n){let r=10;for(;r>0&&e&&e!==document;){if((e=e.parentNode)==document)return!1;if(e.matches(".karma-sticky-stuck")||e.matches(".karma-element-sticky-stuck"))return!0;r--}return!1}(t.getElementById(e.slotContainer))}(e))return!0;for(d=0;d<4;d++)if(g=(u=c[d])[0],f=u[1],(p=t.elementFromPoint(g,f))!==s&&!s.contains(p)){i=!1;break}return i},isElementHidden:function(e){return null!==e&&null===e.offsetParent},addFocusListeners:function(){r?(e.addEventListener("blur",(function(){o=!1})),e.addEventListener("focus",(function(){o=!0}))):o=!1},getSlotOffsetFromViewport:function(t){const r=e.innerHeight,o=n.dom.get(t),i=o.getBoundingClientRect().top,a=o.clientHeight;return i+a<0?i+a:i>r?i-r:0}}}(),n.timeline=function(){"use strict";if(j.initialized=j.initialized||!1,j.ready=!0,!n.reload.checkParams()){if(j.headerInitialized)return void a("KARMA has already initialized; aborting init process. Please make sure you don't have multiple calls to karma.js on the page.",{force:!0,level:"error"});a("KARMA is loaded",{report:!0,label:"KarmaHeaderRunning"}),j.headerInitialized=j.headerInitialized=!0,n.gpt.init(),n.selectable.init(),n.partner.krux.init(),(3===i||e.karmaService&&karmaService.vars.footerReady&&!j.initialized)&&s()}function s(){e.karma=e.karma||{},(r=h(r,e.karma)).config.onPageSettings=Object.keys(e.karma).length>0?e.karma:{},n.translate.convertConfig(),n.urlVars.setTestValues("service"),r.config.hasOwnProperty("isMobile")&&"boolean"==typeof r.config.isMobile||a("karma.config.isMobile is missing or is not a boolean.",{force:!0,level:"error",doc:"karmaconfigismobile---required"}),o=r.config.isMobile=d(r.config.isMobile),j.initialized=!0,e.karma=r,n.debug.init(n.urlVars.get("karmaDebug")),a("KARMA is running!",{report:!0,label:"KarmaServiceRunning",force:!0}),n.viewability.addFocusListeners(),n.targeting.adunit.init(),n.targeting.init(),n.callbacks.init(),n.requestQueue.init(),n.log.addEventListener(),n.config.init(l)}function l(e){a({report:!0,label:"AdSetupStart",referencePoint:"ConfigFetchStart",reportLabel:n.targeting.get("type")}),n.config.process(e),n.partner.krux.targeting(),n.dom.ready(c)}function c(){n.gdpr.defer(u)}function u(){n.slots.injectOutOfPageSlots(),n.slots.init(),n.bidz.init(),n.gpt.queuePush(g)}function g(){var e;n.slots.define(),n.partner.init(),n.partner.adLightning.load(),n.partner.indexVideoWrapper.init(),a({label:"KarmaInit",referencePoint:"PartnerTimerStart"}),n.methods.init(),n.translate.init(),e=r.slots.catalog,n.gpt.enable(),n.gpt.displayAllSlots(),n.reporting.init(),n.partner.krux.targeting(),a("Finished GPT Setup... calling DFP"),n.requestQueue.process(e),n.refresh.buildDefaultSlots(),n.gpt.addCallback(f,"slotOnload"),0===e.length?(j.requestInFlight=!1,p()):n.callbacks.add(p),-1===M.site.indexOf(".mob")||o||a("karma.config.site ("+M.site+") ends in .mob, but karma.config.isMobile is set to false. isMobile should be set to true when the site is mobile.",{force:!0,level:"error",doc:"karmaconfigismobile---required"}),-1===M.site.indexOf(".mob")&&o&&a("karma.config.site ("+M.site+") does not contain .mob, but karma.config.isMobile is set to true. isMobile should be set to false when the site is desktop.",{force:!0,level:"error",doc:"karmaconfigismobile---required"}),o&&0===n.dom.scrapeSlots().filter((function(e){return-1!==e.indexOf("gpt-mob")})).length&&a("karma.config.isMobile is set to true, but there are no mobile instant placeholders on the page. If you do not create any lazy-loaded slots, there will be no ads on the page.",{force:!0,level:"warn"}),o||0!==n.dom.scrapeSlots().filter((function(e){return e.match(/gpt-(?!mob|wallpaper|interstitial)/)})).length||a("karma.config.isMobile is set to false, but there are no desktop instant placeholders on the page.  If you do not create any lazy-loaded slots, there will be no ads on the page.",{force:!0,level:"warn"}),t.querySelector('script[src^="http://karma.mdpcdn.com"]')&&a("You're calling an insecure version of the KARMA script. You should use the https version.",{force:!0,level:"warn"}),t.querySelector('script[src*="web/js/mdp/app/gpt/gpt.core.js"]')&&a("You're using a deprecated KARMA file: gpt.core.js. You should update to K3.",{force:!0,level:"warn",doc:"karma-3-migration-guide"}),3===i&&window.adService&&a("You're on KARMA3, but you still have references to window.adService in your code. You should clean up or convert those.",{force:!0,level:"warn",doc:"karma-3-migration-guide"})}function f(e){if(!j.testsRun){a({label:"onload"});let e=j.environment;const t="local"===e,r="www"!==e,o=n.urlVars.get("runKarmaTests");(o||n.urlVars.get("adTestTicket"))&&n.gpt.queuePush((function(){n.dom.create("script",j.els.head,{src:o?"https://"+(r?e+".":"")+"karma.mdpcdn.com"+(t?":9999":"")+"/tests/js/karma.tests.bookmarklet.js":"http://localhost:9090/test/"+ticket+"/test.js"})})),j.testsRun=!0}!j.bookmarkletInjected&&n.urlVars.isTrue("karmaDebug")&&(n.gpt.queuePush((function(){n.dom.create("script",j.els.head,{src:"https://karma.mdpcdn.com/files/tools/bookmarklets/karmaBookmarklet.js"})})),j.bookmarkletInjected=!0)}function p(t){function o(e){if("function"==typeof e)try{e()}catch(e){a("karma.cmd error running function: "+e,{force:!0,level:"error"})}}if(!j.queueExecuted){if(j.queueExecuted=!0,n.docking.init(),t&&a("Slot: "+t.slot.getSlotElementId(),{report:!0,label:"slotRenderEnded"}),n.refresh.timed.init(),r.cmd=e.karma.cmd||[],n.translate.queue(),"object"==typeof r.cmd)for(;r.cmd.length>0;)o(r.cmd[0]),r.cmd.splice(0,1);r.cmd={push:o},n.translate.ready(),n.lazyLoad.scroll.check()}}return e.karmaService&&e.karmaService.vars&&(j.footerReady=karmaService.vars.footerReady),e.karmaService={vars:j,init:s},e.karma=e.karma||{},e.karma.init=s,{init:s,afterConfigReady:l}}()}();
//# sourceMappingURL=karma.js.map