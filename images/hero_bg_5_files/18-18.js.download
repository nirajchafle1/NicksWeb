webpackJsonp([18],{144:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),r=n.n(i),s=n(17),a=n.n(s),o=n(993),l=(n.n(o),n(31)),u=n.n(l),d=n(940),h=n(651),c=n(13),p=n(968),f=n.n(p),m=n(972),v=n.n(m),y=n(971),g=n.n(y),b=n(967),_=n.n(b),w=n(970),E=n.n(w),A=n(969),C=n.n(A),x=n(966),T=n.n(x),P=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var R=function(){function AuthUI(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AuthUI);this.$context=e;var n=e.data()||{};this.$accountPage=a()("main.account"),this.auth=new d.a(null,n),this.modal=new h.a(e,"auth"),this.authenticated=!1,this.currentUser=null,this.site=location.hostname.split(".").filter(function(e){return!r.a.includes(["com","co","uk"],e)}).slice(-1)[0],this.auth.getAccountDetails().then(function(e){t.setPageAuthState(!0,e.body)}).catch(function(){t.setPageAuthState(!1,null)}),this.registerListeners()}return P(AuthUI,[{key:"renderModal",value:function(e,t){var n=Object.assign({site:this.site},t);this.modal.open(e(n)),this.$context.find("form").parsley(),this.$context.find("input[autofocus]").focus()}},{key:"renderPage",value:function(e,t){var n=Object.assign({site:this.site},t);this.$accountPage.html(e(n)),this.$accountPage.find("form").parsley()}},{key:"registerListeners",value:function(){var e=this;u()(c.d).subscribe(function(t,n){var i=n.closest(".auth-log-in"),r=n.closest(".auth-log-out"),s=n.closest(".auth-sign-up"),a=n.closest(".auth-forgot-password");if(i.length&&(t.preventDefault(),e.authenticated||e.renderModal(f.a)),s.length&&(t.preventDefault(),e.authenticated||e.renderModal(v.a)),a.length){t.preventDefault();var o={email:a.closest("form").find("input[name=email]").val()||""};e.renderModal(_.a,o)}r.length&&(t.preventDefault(),e.auth.logOut().then(function(){e.setPageAuthState(!1,null),e.modal.close()}).catch(function(t){e.setPageAuthState(!1,null),e.renderModal(C.a,{title:"Error",errors:[AuthUI.responseErrorHandler(t)]})}))}),u()(c._17).subscribe(function(e,t){var n=t.closest(".auth-forms form");n.length&&!n.hasClass("active")&&n.addClass("active").removeClass("invalid")}),u()(c.l).subscribe(function(t,n){if(n.is(e.$context.find(".auth-form-log-in"))){t.preventDefault();var i=n.find("input[name=email]").val(),r=n.find("input[name=password]").val(),s=n.find("input[name=remember-me]").is(":checked");e.auth.logIn(i,r,s).then(function(){return e.auth.getAccountDetails()}).then(function(t){e.modal.close(),e.setPageAuthState(!0,t.body)}).catch(function(t){e.renderModal(f.a,{email:i,errors:[AuthUI.responseErrorHandler(t,"auth-form-log-in")]})})}if(n.is(e.$context.find(".auth-form-sign-up"))){t.preventDefault();var a={email:n.find("input[name=email]").val(),password:n.find("input[name=password]").val(),firstName:n.find("input[name=first-name]").val()||null,lastName:n.find("input[name=last-name]").val()||null};e.auth.signUp(a).then(function(){return e.auth.logIn(a.email,a.password,!1)}).then(function(){return e.auth.getAccountDetails()}).then(function(t){e.renderModal(g.a),e.setPageAuthState(!0,t.body)}).catch(function(t){e.renderModal(v.a,Object.assign({errors:[AuthUI.responseErrorHandler(t,"auth-form-sign-up")]},a))})}if(n.is(e.$context.find(".auth-form-forgot-password"))){t.preventDefault();var o=n.find("input[name=email]").val();e.auth.forgotPassword(o).then(function(){e.renderModal(E.a)}).catch(function(t){e.renderModal(_.a,{email:o,errors:[AuthUI.responseErrorHandler(t,"auth-form-forgot-password")]})})}if(n.is(e.$accountPage.find(".auth-form-update-password"))){t.preventDefault();var l=n.find("input[name=oldPassword]").val(),u=n.find("input[name=password]").val();e.auth.updatePassword(l,u).then(function(){n.addClass("success"),setTimeout(function(){n.find("input[type=submit]").prop("disabled",!1),n.removeClass("success")},6e3)}).catch(function(t){n.find("input[type=submit]").prop("disabled",!1),e.renderPage(T.a,Object.assign({passwordErrors:[AuthUI.responseErrorHandler(t,"auth-form-update-password")]},e.currentUser))})}if(n.is(e.$accountPage.find(".auth-form-update-basic-info"))){t.preventDefault();var d=n.find("input[name=first-name]").val()||null,h=n.find("input[name=last-name]").val()||null;n.find("input[type=submit]").prop("disabled",!0),e.auth.updateAccountDetails({firstName:d,lastName:h}).then(function(){n.addClass("success"),setTimeout(function(){n.removeClass("success"),n.find("input[type=submit]").prop("disabled",!1)},3e3)}).catch(function(t){n.find("input[type=submit]").prop("disabled",!1),e.renderPage(T.a,Object.assign({basicInfoErrors:[AuthUI.responseErrorHandler(t,"auth-form-update-basic-info")]},e.currentUser))})}})}},{key:"setPageAuthState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.authenticated=e,this.currentUser=t,e?(document.body.classList.add("authenticated"),this.$accountPage.length&&this.renderPage(T.a,this.currentUser)):(document.body.classList.remove("authenticated"),this.$accountPage.length&&(window.location.href="/"))}}],[{key:"responseErrorHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=r.a.get(e,"response.status",500),i={"auth-form-log-in":{404:"The Password is incorrect, or there was no account found for this Email."},"auth-form-sign-up":{400:"The email provided as is not valid.",403:"The maximum number of accounts per customer has been reached.",406:"First Name and Last Name are required."},"auth-form-forgot-password":{404:"No account found for this email.",406:"The new password does not meet the required format."},"auth-form-update-password":{404:"Old Password is incorrect.",406:"New Password does not match the required format."},"auth-form-update-basic-info":{},default:{400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",406:"Not Acceptable",408:"Request Timeout",500:"Internal Server Error"}};return i[t][n]||i.default[n]}}]),AuthUI}();t.default=function(){return a()(".modal.auth").each(function(){return new R(a()(this))})}},650:function(e,t,n){(function(n){var i;!function(n){"use strict";var r,s=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];function A11yDialog(e,t){this._show=this.show.bind(this),this._hide=this.hide.bind(this),this._maintainFocus=this._maintainFocus.bind(this),this._bindKeypress=this._bindKeypress.bind(this),this.node=e,this._listeners={},this.create(t)}function toArray(e){return Array.prototype.slice.call(e)}function $$(e,t){return toArray((t||document).querySelectorAll(e))}function setFocusToFirstItem(e){var t=getFocusableChildren(e);t.length&&t[0].focus()}function getFocusableChildren(e){return $$(s.join(","),e).filter(function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)})}A11yDialog.prototype.create=function(e){var t,n;return this._targets=this._targets||function(e){if(NodeList.prototype.isPrototypeOf(e))return toArray(e);if(Element.prototype.isPrototypeOf(e))return[e];if("string"==typeof e)return $$(e)}(e)||(t=this.node,(n=toArray(t.parentNode.childNodes).filter(function(e){return 1===e.nodeType})).splice(n.indexOf(t),1),n),this.node.setAttribute("aria-hidden",!0),this.shown=!1,this._openers=$$('[data-a11y-dialog-show="'+this.node.id+'"]'),this._openers.forEach(function(e){e.addEventListener("click",this._show)}.bind(this)),this._closers=$$("[data-a11y-dialog-hide]",this.node).concat($$('[data-a11y-dialog-hide="'+this.node.id+'"]')),this._closers.forEach(function(e){e.addEventListener("click",this._hide)}.bind(this)),this._fire("create"),this},A11yDialog.prototype.show=function(e){return this.shown?this:(this.shown=!0,this.node.removeAttribute("aria-hidden"),this._targets.forEach(function(e){var t=e.getAttribute("aria-hidden");t&&e.setAttribute("data-a11y-dialog-original",t),e.setAttribute("aria-hidden","true")}),r=document.activeElement,setFocusToFirstItem(this.node),document.body.addEventListener("focus",this._maintainFocus,!0),document.addEventListener("keydown",this._bindKeypress),this._fire("show",e),this)},A11yDialog.prototype.hide=function(e){return this.shown?(this.shown=!1,this.node.setAttribute("aria-hidden","true"),this._targets.forEach(function(e){var t=e.getAttribute("data-a11y-dialog-original");t?(e.setAttribute("aria-hidden",t),e.removeAttribute("data-a11y-dialog-original")):e.removeAttribute("aria-hidden")}),r&&r.focus(),document.body.removeEventListener("focus",this._maintainFocus,!0),document.removeEventListener("keydown",this._bindKeypress),this._fire("hide",e),this):this},A11yDialog.prototype.destroy=function(){return this.hide(),this._openers.forEach(function(e){e.removeEventListener("click",this._show)}.bind(this)),this._closers.forEach(function(e){e.removeEventListener("click",this._hide)}.bind(this)),this._fire("destroy"),this._listeners={},this},A11yDialog.prototype.on=function(e,t){return void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t),this},A11yDialog.prototype.off=function(e,t){var n=this._listeners[e].indexOf(t);return n>-1&&this._listeners[e].splice(n,1),this},A11yDialog.prototype._fire=function(e,t){(this._listeners[e]||[]).forEach(function(e){e(this.node,t)}.bind(this))},A11yDialog.prototype._bindKeypress=function(e){this.shown&&27===e.which&&(e.preventDefault(),this.hide()),this.shown&&9===e.which&&function(e,t){var n=getFocusableChildren(e),i=n.indexOf(document.activeElement);t.shiftKey&&0===i?(n[n.length-1].focus(),t.preventDefault()):t.shiftKey||i!==n.length-1||(n[0].focus(),t.preventDefault())}(this.node,e)},A11yDialog.prototype._maintainFocus=function(e){this.shown&&!this.node.contains(e.target)&&setFocusToFirstItem(this.node)},void 0!==e&&void 0!==e.exports?e.exports=A11yDialog:void 0===(i=function(){return A11yDialog}.apply(t,[]))||(e.exports=i)}(void 0!==n||window)}).call(t,n(56))},651:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n(17),r=n.n(i),s=n(31),a=n.n(s),o=n(650),l=n.n(o),u=n(13),d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();n(655);var h=function(){function Modal(e,t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Modal),this.$modal=e,this.$content=e.find(".content"),this.name=t;var i=this.$modal[0];this.dialog=new l.a(i,this.$content),this.$focusElements=null,this.trapActive=!1,a()(u.d).subscribe(function(e,t){var i=t.closest(n.$modal.find(".close")),r=t.closest(n.$modal);r.length&&e.stopPropagation(),document.body.classList.contains("modal-active")&&document.body.classList.contains(n.name)&&(i.length||!r.length)&&(e.preventDefault(),n.close())}),a()(u.s).subscribe(function(e){27===e.keyCode&&document.body.classList.contains(n.name)&&n.close()}),a()(u.t).subscribe(function(){n.close()}),this.dialog.on("show",function(e){var t=r()(e).find(".close");t.length&&t.focus()})}return d(Modal,[{key:"open",value:function(e){document.body.classList.remove("menu-active"),document.body.classList.add("modal-active"),document.body.dataset.modal=this.name,document.body.classList.add(this.name),e&&this.render(e),this.dialog.show(),this.toggleFocusTrap()}},{key:"close",value:function(){this.dialog.hide(),this.toggleFocusTrap(),r()("[inert]").removeAttr("inert"),document.body.classList.contains("modal-active")&&(document.body.classList.remove("menu-active"),document.body.classList.remove("modal-active"),document.body.classList.remove(this.name),document.body.dataset.modal===this.name&&delete document.body.dataset.modal,this.$modal.hasClass("static")||this.$content.empty())}},{key:"render",value:function(e){this.$content.html(e)}},{key:"toggleFocusTrap",value:function(){var e=this;if(this.trapActive)Promise.resolve().then(function(){r()(".modal."+e.name).removeAttr("aria-modal"),e.trapActive=!1});else{var t=this.$content.parents(),n=void 0;t.length&&(n=t[t.length-3]),r()("body > *").not(n).not("[aria-hidden=true]").attr("inert",""),r()(".modal."+this.name).attr("aria-modal","true"),this.trapActive=!0}}}]),Modal}()},655:function(e,t){var n=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=Array.prototype.slice,r=Element.prototype.matches||Element.prototype.msMatchesSelector,s=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]"].join(","),a=function(){function InertRoot(e,t){_classCallCheck(this,InertRoot),this._inertManager=t,this._rootElement=e,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return n(InertRoot,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(null!==this._savedAriaHidden?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach(function(e){this._unmanageNode(e.node)},this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(e){var t=this;composedTreeWalk(e,function(e){return t._visitNode(e)});var n=document.activeElement;if(!document.body.contains(e)){for(var i=e,r=void 0;i;){if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){r=i;break}i=i.parentNode}r&&(n=r.activeElement)}e.contains(n)&&(n.blur(),n===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=e;t!==this._rootElement&&t.hasAttribute("inert")&&this._adoptInertRoot(t),(r.call(t,s)||t.hasAttribute("tabindex"))&&this._manageNode(t)}}},{key:"_manageNode",value:function(e){var t=this._inertManager.register(e,this);this._managedNodes.add(t)}},{key:"_unmanageNode",value:function(e){var t=this._inertManager.deregister(e,this);t&&this._managedNodes.delete(t)}},{key:"_unmanageSubtree",value:function(e){var t=this;composedTreeWalk(e,function(e){return t._unmanageNode(e)})}},{key:"_adoptInertRoot",value:function(e){var t=this._inertManager.getInertRoot(e);t||(this._inertManager.setInert(e,!0),t=this._inertManager.getInertRoot(e)),t.managedNodes.forEach(function(e){this._manageNode(e.node)},this)}},{key:"_onMutation",value:function(e,t){e.forEach(function(e){var t=e.target;if("childList"===e.type)i.call(e.addedNodes).forEach(function(e){this._makeSubtreeUnfocusable(e)},this),i.call(e.removedNodes).forEach(function(e){this._unmanageSubtree(e)},this);else if("attributes"===e.type)if("tabindex"===e.attributeName)this._manageNode(t);else if(t!==this._rootElement&&"inert"===e.attributeName&&t.hasAttribute("inert")){this._adoptInertRoot(t);var n=this._inertManager.getInertRoot(t);this._managedNodes.forEach(function(e){t.contains(e.node)&&n._manageNode(e.node)})}},this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return null!==this._savedAriaHidden}},{key:"savedAriaHidden",set:function(e){this._savedAriaHidden=e},get:function(){return this._savedAriaHidden}}]),InertRoot}(),o=function(){function InertNode(e,t){_classCallCheck(this,InertNode),this._node=e,this._overrodeFocusMethod=!1,this._inertRoots=new Set([t]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return n(InertNode,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var e=this._node;null!==this._savedTabIndex?e.setAttribute("tabindex",this._savedTabIndex):e.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete e.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var e=this.node;if(r.call(e,s)){if(-1===e.tabIndex&&this.hasSavedTabIndex)return;e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex),e.setAttribute("tabindex","-1"),e.nodeType===Node.ELEMENT_NODE&&(e.focus=function(){},this._overrodeFocusMethod=!0)}else e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex,e.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.add(e)}},{key:"removeInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.delete(e),0===this._inertRoots.size&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return null!==this._savedTabIndex}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(e){this._throwIfDestroyed(),this._savedTabIndex=e},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),InertNode}();function composedTreeWalk(e,t,n){if(e.nodeType==Node.ELEMENT_NODE){var i=e;t&&t(i);var r=i.shadowRoot;if(r)return void composedTreeWalk(r,t,r);if("content"==i.localName){for(var s=i,a=s.getDistributedNodes?s.getDistributedNodes():[],o=0;o<a.length;o++)composedTreeWalk(a[o],t,n);return}if("slot"==i.localName){for(var l=i,u=l.assignedNodes?l.assignedNodes({flatten:!0}):[],d=0;d<u.length;d++)composedTreeWalk(u[d],t,n);return}}for(var h=e.firstChild;null!=h;)composedTreeWalk(h,t,n),h=h.nextSibling}function addInertStyle(e){if(!e.querySelector("style#inert-style")){var t=document.createElement("style");t.setAttribute("id","inert-style"),t.textContent="\n[inert] {\n  pointer-events: none;\n  cursor: default;\n}\n\n[inert], [inert] * {\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n}\n",e.appendChild(t)}}var l=new(function(){function InertManager(e){if(_classCallCheck(this,InertManager),!e)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=e,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),addInertStyle(e.head||e.body||e.documentElement),"loading"===e.readyState?e.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return n(InertManager,[{key:"setInert",value:function(e,t){if(t){if(this._inertRoots.has(e))return;var n=new a(e,this);if(e.setAttribute("inert",""),this._inertRoots.set(e,n),!this._document.body.contains(e))for(var i=e.parentNode;i;)11===i.nodeType&&addInertStyle(i),i=i.parentNode}else{if(!this._inertRoots.has(e))return;this._inertRoots.get(e).destructor(),this._inertRoots.delete(e),e.removeAttribute("inert")}}},{key:"getInertRoot",value:function(e){return this._inertRoots.get(e)}},{key:"register",value:function(e,t){var n=this._managedNodes.get(e);return void 0!==n?n.addInertRoot(t):n=new o(e,t),this._managedNodes.set(e,n),n}},{key:"deregister",value:function(e,t){var n=this._managedNodes.get(e);return n?(n.removeInertRoot(t),n.destroyed&&this._managedNodes.delete(e),n):null}},{key:"_onDocumentLoaded",value:function(){i.call(this._document.querySelectorAll("[inert]")).forEach(function(e){this.setInert(e,!0)},this),this._observer.observe(this._document.body,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(e,t){var n=this;e.forEach(function(e){switch(e.type){case"childList":i.call(e.addedNodes).forEach(function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=i.call(e.querySelectorAll("[inert]"));r.call(e,"[inert]")&&t.unshift(e),t.forEach(function(e){this.setInert(e,!0)},n)}},n);break;case"attributes":if("inert"!==e.attributeName)return;var t=e.target,s=t.hasAttribute("inert");n.setInert(t,s)}},this)}}]),InertManager}())(document);Element.prototype.hasOwnProperty("inert")||Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(e){l.setInert(this,e)}})},831:function(e,t,n){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},853:function(e,t,n){function Emitter(e){if(e)return function(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}(e)}e.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Emitter.prototype.once=function(e,t){function on(){this.off(e,on),t.apply(this,arguments)}return on.fn=t,this.on(e,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length}},905:function(e,t){function Agent(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){Agent.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),Agent.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=Agent},906:function(e,t,n){var i;"undefined"!=typeof window?i=window:"undefined"!=typeof self?i=self:(console.warn("Using browser-only version of superagent in non-browser environment"),i=this);var r=n(853),s=n(907),a=n(831),o=n(908),l=n(905);function noop(){}var u=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=Request,u.getXHR=function(){if(!(!i.XMLHttpRequest||i.location&&"file:"==i.location.protocol&&i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var d="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function serialize(e){if(!a(e))return e;var t=[];for(var n in e)pushEncodedKeyValuePair(t,n,e[n]);return t.join("&")}function pushEncodedKeyValuePair(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){pushEncodedKeyValuePair(e,t,n)});else if(a(n))for(var i in n)pushEncodedKeyValuePair(e,t+"["+i+"]",n[i]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function parseString(e){for(var t,n,i={},r=e.split("&"),s=0,a=r.length;s<a;++s)-1==(n=(t=r[s]).indexOf("="))?i[decodeURIComponent(t)]="":i[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return i}function isJSON(e){return/[\/+]json($|[^-\w])/.test(e)}function Response(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,i,r,s=e.split(/\r?\n/),a={},o=0,l=s.length;o<l;++o)-1!==(t=(n=s[o]).indexOf(":"))&&(i=n.slice(0,t).toLowerCase(),r=d(n.slice(t+1)),a[i]=r);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function Request(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,i=null;try{i=new Response(n)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",i);try{n._isResponseOK(i)||(e=new Error(i.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=i,e.status=i.status,n.callback(e,i)):n.callback(null,i)})}function del(e,t,n){var i=u("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}u.serializeObject=serialize,u.parseString=parseString,u.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},u.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},u.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},o(Response.prototype),Response.prototype._parseBody=function(e){var t=u.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&isJSON(this.type)&&(t=u.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},Response.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,i="cannot "+t+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=t,r.url=n,r},u.Response=Response,r(Request.prototype),s(Request.prototype),Request.prototype.type=function(e){return this.set("Content-Type",u.types[e]||e),this},Request.prototype.accept=function(e){return this.set("Accept",u.types[e]||e),this},Request.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});return this._auth(e,t,n,function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},Request.prototype.query=function(e){return"string"!=typeof e&&(e=serialize(e)),e&&this._query.push(e),this},Request.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},Request.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},Request.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},Request.prototype.buffer=Request.prototype.ca=Request.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},Request.prototype.pipe=Request.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},Request.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},Request.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||noop,this._finalizeQueryString(),this._end()},Request.prototype._end=function(){var e=this,t=this.xhr=u.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var i;try{i=t.status}catch(e){i=0}if(!i){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var i=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=i.bind(null,"download"),t.upload&&(t.upload.onprogress=i.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var r=this._header["content-type"],s=this._serializer||u.serialize[r?r.split(";")[0]:""];!s&&isJSON(r)&&(s=u.serialize["application/json"]),s&&(n=s(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},u.agent=function(){return new l},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){l.prototype[e.toLowerCase()]=function(t,n){var i=new u.Request(e,t);return this._setDefaults(i),n&&i.end(n),i}}),l.prototype.del=l.prototype.delete,u.get=function(e,t,n){var i=u("GET",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},u.head=function(e,t,n){var i=u("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},u.options=function(e,t,n){var i=u("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},u.del=del,u.delete=del,u.patch=function(e,t,n){var i=u("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},u.post=function(e,t,n){var i=u("POST",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},u.put=function(e,t,n){var i=u("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}},907:function(e,t,n){"use strict";var i=n(831);function RequestBase(e){if(e)return function(e){for(var t in RequestBase.prototype)e[t]=RequestBase.prototype[t];return e}(e)}e.exports=RequestBase,RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},RequestBase.prototype.parse=function(e){return this._parser=e,this},RequestBase.prototype.responseType=function(e){return this._responseType=e,this},RequestBase.prototype.serialize=function(e){return this._serializer=e,this},RequestBase.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},RequestBase.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var r=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];RequestBase.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~r.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},RequestBase.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,i){n?t(n):e(i)})})}return this._fullfilledPromise.then(e,t)},RequestBase.prototype.catch=function(e){return this.then(void 0,e)},RequestBase.prototype.use=function(e){return e(this),this},RequestBase.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},RequestBase.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},RequestBase.prototype.get=function(e){return this._header[e.toLowerCase()]},RequestBase.prototype.getHeader=RequestBase.prototype.get,RequestBase.prototype.set=function(e,t){if(i(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},RequestBase.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},RequestBase.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),i(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)this.field(e,t[r]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},RequestBase.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},RequestBase.prototype._auth=function(e,t,n,i){switch(n.type){case"basic":this.set("Authorization","Basic "+i(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},RequestBase.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},RequestBase.prototype.redirects=function(e){return this._maxRedirects=e,this},RequestBase.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},RequestBase.prototype.send=function(e){var t=i(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&i(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)},RequestBase.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},RequestBase.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},RequestBase.prototype._appendQueryString=function(){console.trace("Unsupported")},RequestBase.prototype._timeoutError=function(e,t,n){if(!this._aborted){var i=new Error(e+t+"ms exceeded");i.timeout=t,i.code="ECONNABORTED",i.errno=n,this.timedout=!0,this.abort(),this.callback(i)}},RequestBase.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},908:function(e,t,n){"use strict";var i=n(909);function ResponseBase(e){if(e)return function(e){for(var t in ResponseBase.prototype)e[t]=ResponseBase.prototype[t];return e}(e)}e.exports=ResponseBase,ResponseBase.prototype.get=function(e){return this.header[e.toLowerCase()]},ResponseBase.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=i.type(t);var n=i.params(t);for(var r in n)this[r]=n[r];this.links={};try{e.link&&(this.links=i.parseLinks(e.link))}catch(e){}},ResponseBase.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},909:function(e,t,n){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(e[i]=r),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),i=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=i,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},940:function(e,t,n){"use strict";var i=n(906),r=n.n(i),s=n(43),a=n.n(s),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var l=function(){function Auth(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Auth),this.request=r.a,this.cookies=a.a,this.basePath=e||"https://auth-service.element.timeincapp.com",this.authParams=t}return o(Auth,[{key:"logIn",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.basePath+"/login",r=this.authParams,s=Object.assign({},{email:e,password:t,rememberMe:n},{authParams:r});return this.request.post(i).withCredentials().send(s)}},{key:"logOut",value:function(){var e=this.basePath+"/logout",t=this.authParams,n=Object.assign({},{authParams:t});return this.request.post(e).withCredentials().send(n)}},{key:"signUp",value:function(e){var t=this.basePath+"/signup",n=this.authParams,i=Object.assign({},e,{authParams:n});return this.request.post(t).withCredentials().send(i)}},{key:"forgotPassword",value:function(e){var t=this.basePath+"/reset-password",n=this.authParams,i=Object.assign({},{email:e},{authParams:n});return this.request.post(t).send(i)}},{key:"updatePassword",value:function(e,t){var n=this.basePath+"/update-password",i=this.authParams,r=Object.assign({},{oldPassword:e,newPassword:t},{authParams:i});return this.request.put(n).withCredentials().send(r)}},{key:"updateAccountDetails",value:function(e){var t=this.basePath+"/account",n=this.authParams,i=Object.assign({},e,{authParams:n});return this.request.post(t).withCredentials().send(i)}},{key:"getAccountDetails",value:function(){var e=this.authParams,t=this.basePath+"/account?appId="+e.appId+"&magcode="+e.magcode;return this.request.get(t).withCredentials()}}]),Auth}();t.a=l},966:function(e,t,n){var i=n(139);e.exports=(i.default||i).template({1:function(e,t,n,i,r){return'    <p class="error">'+e.escapeExpression(e.lambda(t,t))+"</p>\n"},3:function(e,t,n,i,r){return"invalid"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var s,a,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u=e.escapeExpression;return'<div class="content auth-forms account-details-page">\n  <h1 class="auth-page-header">Account Details<h1>\n\n  <h2 class="auth-header">Change Password</h2>\n  <p class="emphasized">Password needs to contain at least 8 characters, at least one letter, and at least one digit.</p>\n'+(null!=(s=n.each.call(o,null!=t?t.passwordErrors:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'  <form action="#" method="get" class="auth-form-update-password '+(null!=(s=n.if.call(o,null!=t?t.passwordErrors:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+'">\n    <div class="flex-container">\n      <div class="input-group input-icon">\n        <label for="oldPassword" class="sr-only">Old Password</label>\n        <input type="password"\n               name="oldPassword"\n               class="icon-password"\n               placeholder="Old Password"\n               autofocus\n               required>\n       <h5 class="forgot-password"><a href="#" class="auth-forgot-password">I forgot my password</a></h5>\n      </div>\n    </div>\n\n    <div class="flex-container">\n      <div class="input-group input-icon">\n        <label for="password" class="sr-only">New Password</label>\n        <input type="password"\n          name="password"\n          class="icon-password"\n          placeholder="New Password"\n        \n          minlength="8"\n          required>\n      </div>\n      <div class="input-group input-icon">\n        <label for="password-confirm" class="sr-only">Confirm Password</label>\n        <input type="password"\n          name="password-confirm"\n          class="icon-password-confirm"\n          placeholder="Confirm Password"\n        \n          minlength="8"\n          required\n          data-parsley-equalto="input[name=password]">\n      </div>\n    </div>\n\n    <input type="submit" class="btn btn-small" value="Update Password">\n  </form>\n\n  <h2 class="auth-header">Basic Information</h2>\n  <p class="emphasized">Your Name will not appear anywhere publically. It will be used for mailing purposes if subscribed to our magazines, or for addressing you by your full name in newseltters.</p>\n'+(null!=(s=n.each.call(o,null!=t?t.basicInfoErrors:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'  <form action="#" method="get" class="auth-form-update-basic-info '+(null!=(s=n.if.call(o,null!=t?t.basicInfoErrors:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+'">\n    <div class="input-group input-icon half-width-tablet full-width-mobile">\n      <label for="email" class="sr-only">Email</label>\n      <input type="text"\n             name="email"\n             class="icon-email"\n             value="'+u("function"==typeof(a=null!=(a=n.userId||(null!=t?t.userId:t))?a:l)?a.call(o,{name:"userId",hash:{},data:r}):a)+'"\n             placeholder="meredith.smith@gmail.com"\n             disabled>\n    </div>\n    <div class="input-group half-width-tablet full-width-mobile">\n      <label for="first-name" class="sr-only">First Name</label>\n      <input type="text"\n             name="first-name"\n             value="'+u("function"==typeof(a=null!=(a=n.firstName||(null!=t?t.firstName:t))?a:l)?a.call(o,{name:"firstName",hash:{},data:r}):a)+'"\n             placeholder="First Name" required>\n    </div>\n    <div class="input-group half-width-tablet full-width-mobile">\n      <label for="last-name" class="sr-only">Last Name</label>\n      <input type="text"\n             name="last-name"\n             value="'+u("function"==typeof(a=null!=(a=n.lastName||(null!=t?t.lastName:t))?a:l)?a.call(o,{name:"lastName",hash:{},data:r}):a)+'"\n             placeholder="Last Name" required>\n    </div>\n    <input type="submit" class="btn btn-small" value="Save Changes">\n  </form>\n</div>\n'},useData:!0})},967:function(e,t,n){var i=n(139);e.exports=(i.default||i).template({1:function(e,t,n,i,r){return'    <p class="error">'+e.escapeExpression(e.lambda(t,t))+"</p>\n"},3:function(e,t,n,i,r){return"invalid"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var s,a,o=null!=t?t:e.nullContext||{};return'<div class="auth-forms">\n  <h3 class="auth-header centered">Forgot Password</h3>\n  <p class="centered">You will receive an e-mail containing a link to easily and securely reset your password.</p>\n'+(null!=(s=n.each.call(o,null!=t?t.errors:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'  <form action="#" method="get" class="auth-form-forgot-password '+(null!=(s=n.if.call(o,null!=t?t.errors:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+'">\n    <div class="input-group">\n      <label for="email" class="sr-only">Email address</label>\n      <input type="email" name="email" placeholder="Email Address" value="'+e.escapeExpression("function"==typeof(a=null!=(a=n.email||(null!=t?t.email:t))?a:e.hooks.helperMissing)?a.call(o,{name:"email",hash:{},data:r}):a)+'" required autofocus>\n    </div>\n    <input type="submit" class="btn btn-block" value="Reset Password">\n  </form>\n</div>\n'},useData:!0})},968:function(e,t,n){var i=n(139);e.exports=(i.default||i).template({1:function(e,t,n,i,r){return'    <p class="error">'+e.escapeExpression(e.lambda(t,t))+"</p>\n"},3:function(e,t,n,i,r){return"invalid"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var s,a,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u=e.escapeExpression;return'<div class="auth-forms">\n  <h5 class="centered">Not a member? <a href="#" class="auth-sign-up default-color">Sign up</a></h5>\n  <h3 class="auth-header centered">Member Sign In</h3>\n'+(null!=(s=n.each.call(o,null!=t?t.errors:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'  <form action="#" method="get" class="auth-form-log-in '+(null!=(s=n.if.call(o,null!=t?t.errors:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+'">\n    <div class="input-group input-icon">\n      <label for="email" class="sr-only">Email address</label>\n      <input type="email" class="icon-email" name="email" placeholder="Email Address" value="'+u("function"==typeof(a=null!=(a=n.email||(null!=t?t.email:t))?a:l)?a.call(o,{name:"email",hash:{},data:r}):a)+'" required data-parsley-required-message="This field is required." autofocus>\n    </div>\n    <div class="input-group input-icon">\n      <label for="password" class="sr-only">Password</label>\n      <input type="password" class="icon-password" name="password" placeholder="Password" required data-parsley-required-message="This field is required.">\n      <h5 class="float-right"><a href="#" class="auth-forgot-password">I forgot my password</a></h5>\n    </div>\n    <input type="submit" class="btn btn-block" value="Sign In">\n    <div class="form-checkbox">\n      <input type="checkbox" name="remember-me" id="remember-me">\n      <label id="remember-me" for="remember-me">Keep me signed in</label>\n    </div>\n  </form>\n  <h6 class="auth-footer">By signing in, you are agreeing to Meredith Corporation <a href="https://subscription.timeinc.com/storefront/privacy/'+u("function"==typeof(a=null!=(a=n.site||(null!=t?t.site:t))?a:l)?a.call(o,{name:"site",hash:{},data:r}):a)+'/privacy_terms_service.html">Terms of Use</a> and <a target="_blank" href="https://subscription.timeinc.com/storefront/privacy/'+u("function"==typeof(a=null!=(a=n.site||(null!=t?t.site:t))?a:l)?a.call(o,{name:"site",hash:{},data:r}):a)+'/generic_privacy_new.html?dnp-source=E">Privacy Policy (Your California Privacy Rights).</a>\n</div>\n'},useData:!0})},969:function(e,t,n){var i=n(139);e.exports=(i.default||i).template({1:function(e,t,n,i,r){return'    <p class="error">'+e.escapeExpression(e.lambda(t,t))+"</p>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var s,a,o=null!=t?t:e.nullContext||{};return'<div class="auth-forms">\n  <h3>'+e.escapeExpression("function"==typeof(a=null!=(a=n.title||(null!=t?t.title:t))?a:e.hooks.helperMissing)?a.call(o,{name:"title",hash:{},data:r}):a)+"</h3>\n"+(null!=(s=n.each.call(o,null!=t?t.errors:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+"</div>\n"},useData:!0})},970:function(e,t,n){var i=n(139);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<div class="auth-forms">\n  <h3 class="auth-header centered">Reset Password Email Sent</h3>\n  <p class="centered">An email with a link to reset your password has been sent.<br />Please check your inbox.</p>\n</div>\n'},useData:!0})},971:function(e,t,n){var i=n(139);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){return'<div class="auth-forms">\n  <h3 class="auth-header centered">You\'re a member!</h3>\n  <p class="emphasized">Thank you for signing up. You can <a href="/account">review your account</a> any time.</p>\n</div>\n'},useData:!0})},972:function(e,t,n){var i=n(139);e.exports=(i.default||i).template({1:function(e,t,n,i,r){return'    <p class="error">'+e.escapeExpression(e.lambda(t,t))+"</p>\n"},3:function(e,t,n,i,r){return"invalid"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var s,a,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",d=e.escapeExpression;return'<div class="auth-forms">\n  <h5 class="centered">Already a Member? <a href="#" class="auth-log-in default-color">Sign in</a></h5>\n  <h3 class="auth-header centered">Create Account</h3>\n  <p class="centered">Sign up to leave comments &amp; rate, save recipes.<br>You can also keep track of your newsletters and much more!</p>\n'+(null!=(s=n.each.call(o,null!=t?t.errors:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'  <form action="#" method="get" class="auth-form-sign-up '+(null!=(s=n.if.call(o,null!=t?t.errors:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+'">\n    <div class="input-group input-icon">\n      <label for="email" class="sr-only">Email address</label>\n      <input type="email" class="icon-email" name="email" placeholder="Email Address" value="'+d(typeof(a=null!=(a=n.email||(null!=t?t.email:t))?a:l)===u?a.call(o,{name:"email",hash:{},data:r}):a)+'" required data-parsley-required-message="This field is required." autofocus>\n    </div>\n    <p class="centered">Password needs to contain at least 8 characters, at least one letter, and at least one digit.</p>\n    <div class="input-group input-icon">\n      <label for="password" class="sr-only">Password</label>\n      <input type="password" class="icon-password" name="password" placeholder="Password" minlength="8" required data-parsley-required-message="This field is required.">\n    </div>\n    <div class="input-group input-icon">\n      <label for="password" class="sr-only">Confirm Password</label>\n      <input type="password" class="icon-password-confirm" name="password-confirm" placeholder="Confirm Password" minlength="8" required data-parsley-required-message="This field is required." data-parsley-equalto="input[name=password]" data-parsley-equalto-message="Your passwords do not match.">\n    </div>\n    <div class="form-checkbox">\n      <input type="checkbox" name="privacy-agreement" required data-parsley-required-message="You must check this box to create an account.">\n      <label for="privacy-agreement">I am 18 years or older and I agree to the <a href="https://subscription.timeinc.com/storefront/privacy/'+d(typeof(a=null!=(a=n.site||(null!=t?t.site:t))?a:l)===u?a.call(o,{name:"site",hash:{},data:r}):a)+'/privacy_terms_service.html">Terms of Use</a> and <a target="_blank" href="https://subscription.timeinc.com/storefront/privacy/'+d(typeof(a=null!=(a=n.site||(null!=t?t.site:t))?a:l)===u?a.call(o,{name:"site",hash:{},data:r}):a)+'/generic_privacy_new.html?dnp-source=E">Privacy Policy (Your California Privacy Rights).</a></label>\n    </div>\n    <h4 class="auth-header-secondary">Personal Information</h4>\n    <div class="input-group">\n      <label for="first-name" class="sr-only">First Name</label>\n      <input type="text" name="first-name" placeholder="First Name" required data-parsley-required-message="This field is required.">\n    </div>\n    <div class="input-group">\n      <label for="last-name" class="sr-only">Last Name</label>\n      <input type="text" name="last-name" placeholder="Last Name" required data-parsley-required-message="This field is required.">\n    </div>\n    <input type="submit" class="btn btn-block" value="Create Account">\n  </form>\n  <h6 class="auth-footer">By signing in, you are agreeing to Meredith Corporation <a href="https://subscription.timeinc.com/storefront/privacy/'+d(typeof(a=null!=(a=n.site||(null!=t?t.site:t))?a:l)===u?a.call(o,{name:"site",hash:{},data:r}):a)+'/privacy_terms_service.html">Terms of Use</a> and <a href="https://subscription.timeinc.com/storefront/privacy/'+d(typeof(a=null!=(a=n.site||(null!=t?t.site:t))?a:l)===u?a.call(o,{name:"site",hash:{},data:r}):a)+'/generic_privacy_new.html?dnp-source=E#california">Privacy Policy (Your California Privacy Rights).</a>\n</div>\n'},useData:!0})},993:function(e,t,n){(function(t){var i;i=function(e){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function _slicedToArray(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var n=1,i={},r={attr:function(e,t,n){var i,r,s,a=new RegExp("^"+t,"i");if(void 0===n)n={};else for(i in n)n.hasOwnProperty(i)&&delete n[i];if(!e)return n;for(i=(s=e.attributes).length;i--;)(r=s[i])&&r.specified&&a.test(r.name)&&(n[this.camelize(r.name.slice(t.length))]=this.deserializeValue(r.value));return n},checkAttr:function(e,t,n){return e.hasAttribute(t+n)},setAttr:function(e,t,n,i){e.setAttribute(this.dasherize(t+n),String(i))},getType:function(e){return e.getAttribute("type")||"text"},generateID:function(){return""+n++},deserializeValue:function(e){var t;try{return e?"true"==e||"false"!=e&&("null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?JSON.parse(e):e:t):e}catch(t){return e}},camelize:function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},dasherize:function(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){var e;window.console&&"function"==typeof window.console.warn&&(e=window.console).warn.apply(e,arguments)},warnOnce:function(e){i[e]||(i[e]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){i={}},trimString:function(e){return e.replace(/^\s+|\s+$/g,"")},parse:{date:function(e){var t=e.match(/^(\d{4,})-(\d\d)-(\d\d)$/);if(!t)return null;var n=_slicedToArray(t.map(function(e){return parseInt(e,10)}),4),i=(n[0],n[1]),r=n[2],s=n[3],a=new Date(i,r-1,s);return a.getFullYear()!==i||a.getMonth()+1!==r||a.getDate()!==s?null:a},string:function(e){return e},integer:function(e){return isNaN(e)?null:parseInt(e,10)},number:function(e){if(isNaN(e))throw null;return parseFloat(e)},boolean:function(e){return!/^\s*false\s*$/i.test(e)},object:function(e){return r.deserializeValue(e)},regexp:function(e){var t="";return/^\/.*\/(?:[gimy]*)$/.test(e)?(t=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+t+"$"),"$1")):e="^"+e+"$",new RegExp(e,t)}},parseRequirement:function(e,t){var n=this.parse[e||"string"];if(!n)throw'Unknown requirement specification: "'+e+'"';var i=n(t);if(null===i)throw"Requirement is not a ".concat(e,': "').concat(t,'"');return i},namespaceEvents:function(t,n){return(t=this.trimString(t||"").split(/\s+/))[0]?e.map(t,function(e){return"".concat(e,".").concat(n)}).join(" "):""},difference:function(t,n){var i=[];return e.each(t,function(e,t){-1==n.indexOf(t)&&i.push(t)}),i},all:function(t){return e.when.apply(e,_toConsumableArray(t).concat([42,42]))},objectCreate:Object.create||function(){var e=function(){};return function(t){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=_typeof(t))throw TypeError("Argument must be an object");e.prototype=t;var n=new e;return e.prototype=null,n}}(),_SubmitSelector:'input[type="submit"], button:submit'},s={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(e){},errorsContainer:function(e){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},a=function(){this.__id__=r.generateID()};a.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){var t=this,n=function(){var n=e.Deferred();return!0!==t.validationResult&&n.reject(),n.resolve().promise()};return[n,n]},actualizeOptions:function(){return r.attr(this.element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(e){for(var t in this.domOptions=r.objectCreate(this.parent.options),this.options=r.objectCreate(this.domOptions),e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.actualizeOptions()},_listeners:null,on:function(e,t){return this._listeners=this._listeners||{},(this._listeners[e]=this._listeners[e]||[]).push(t),this},subscribe:function(t,n){e.listenTo(this,t.toLowerCase(),n)},off:function(e,t){var n=this._listeners&&this._listeners[e];if(n)if(t)for(var i=n.length;i--;)n[i]===t&&n.splice(i,1);else delete this._listeners[e];return this},unsubscribe:function(t,n){e.unsubscribeTo(this,t.toLowerCase())},trigger:function(e,t,n){t=t||this;var i,r=this._listeners&&this._listeners[e];if(r)for(var s=r.length;s--;)if(!1===(i=r[s].call(t,t,n)))return i;return!this.parent||this.parent.trigger(e,t,n)},asyncIsValid:function(e,t){return r.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:e,force:t})},_findRelated:function(){return this.options.multiple?e(this.parent.element.querySelectorAll("[".concat(this.options.namespace,'multiple="').concat(this.options.multiple,'"]'))):this.$element}};var o=function(t){e.extend(!0,this,t)};o.prototype={validate:function(e,t){if(this.fn)return arguments.length>3&&(t=[].slice.call(arguments,1,-1)),this.fn(e,t);if(Array.isArray(e)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}var n=arguments[arguments.length-1];if(this.validateDate&&n._isDateInput())return arguments[0]=r.parse.date(arguments[0]),null!==arguments[0]&&this.validateDate.apply(this,arguments);if(this.validateNumber)return!e||!isNaN(e)&&(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(t,n){if("string"!=typeof t)return Array.isArray(t)?t:[t];var i=this.requirementType;if(Array.isArray(i)){for(var s=function(e,t){var n=e.match(/^\s*\[(.*)\]\s*$/);if(!n)throw'Requirement is not an array: "'+e+'"';var i=n[1].split(",").map(r.trimString);if(i.length!==t)throw"Requirement has "+i.length+" values when "+t+" are needed";return i}(t,i.length),a=0;a<s.length;a++)s[a]=r.parseRequirement(i[a],s[a]);return s}return e.isPlainObject(i)?function(e,t,n){var i=null,s={};for(var a in e)if(a){var o=n(a);"string"==typeof o&&(o=r.parseRequirement(e[a],o)),s[a]=o}else i=r.parseRequirement(e[a],t);return[i,s]}(i,t,n):[r.parseRequirement(i,t)]},requirementType:"string",priority:2};var l=function(e,t){this.__class__="ValidatorRegistry",this.locale="en",this.init(e||{},t||{})},u={email:/^((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,date:{test:function(e){return null!==r.parse.date(e)}},url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$")};u.range=u.number;var d=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},h=function(e,t){return function(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return s.pop(),t.apply(void 0,[n].concat(_toConsumableArray(function(e,t){return t.map(r.parse[e])}(e,s))))}},c=function(e){return{validateDate:h("date",e),validateNumber:h("number",e),requirementType:e.length<=2?"string":["string","string"],priority:30}};l.prototype={init:function(e,t){for(var n in this.catalog=t,this.validators=_extends({},this.validators),e)this.addValidator(n,e[n].fn,e[n].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(e){if(void 0===this.catalog[e])throw new Error(e+" is not available in the catalog");return this.locale=e,this},addCatalog:function(e,t,n){return"object"===_typeof(t)&&(this.catalog[e]=t),!0===n?this.setLocale(e):this},addMessage:function(e,t,n){return void 0===this.catalog[e]&&(this.catalog[e]={}),this.catalog[e][t]=n,this},addMessages:function(e,t){for(var n in t)this.addMessage(e,n,t[n]);return this},addValidator:function(e,t,n){if(this.validators[e])r.warn('Validator "'+e+'" is already defined.');else if(s.hasOwnProperty(e))return void r.warn('"'+e+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},hasValidator:function(e){return!!this.validators[e]},updateValidator:function(e,t,n){return this.validators[e]?this._setValidator.apply(this,arguments):(r.warn('Validator "'+e+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(e){return this.validators[e]||r.warn('Validator "'+e+'" is not defined.'),delete this.validators[e],this},_setValidator:function(e,t,n){for(var i in"object"!==_typeof(t)&&(t={fn:t,priority:n}),t.validate||(t=new o(t)),this.validators[e]=t,t.messages||{})this.addMessage(i,e,t.messages[i]);return this},getErrorMessage:function(e){var t;"type"===e.name?t=(this.catalog[this.locale][e.name]||{})[e.requirements]:t=this.formatMessage(this.catalog[this.locale][e.name],e.requirements);return t||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(e,t){if("object"===_typeof(t)){for(var n in t)e=this.formatMessage(e,t[n]);return e}return"string"==typeof e?e.replace(/%s/i,t):""},validators:{notblank:{validateString:function(e){return/\S/.test(e)},priority:2},required:{validateMultiple:function(e){return e.length>0},validateString:function(e){return/\S/.test(e)},priority:512},type:{validateString:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.step,r=void 0===i?"any":i,s=n.base,a=void 0===s?0:s,o=u[t];if(!o)throw new Error("validator type `"+t+"` is not supported");if(!e)return!0;if(!o.test(e))return!1;if("number"===t&&!/^any$/i.test(r||"")){var l=Number(e),h=Math.max(d(r),d(a));if(d(l)>h)return!1;var c=function(e){return Math.round(e*Math.pow(10,h))};if((c(l)-c(a))%c(r)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(e,t){return!e||t.test(e)},requirementType:"regexp",priority:64},minlength:{validateString:function(e,t){return!e||e.length>=t},requirementType:"integer",priority:30},maxlength:{validateString:function(e,t){return e.length<=t},requirementType:"integer",priority:30},length:{validateString:function(e,t,n){return!e||e.length>=t&&e.length<=n},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(e,t){return e.length>=t},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(e,t){return e.length<=t},requirementType:"integer",priority:30},check:{validateMultiple:function(e,t,n){return e.length>=t&&e.length<=n},requirementType:["integer","integer"],priority:30},min:c(function(e,t){return e>=t}),max:c(function(e,t){return e<=t}),range:c(function(e,t,n){return e>=t&&e<=n}),equalto:{validateString:function(t,n){if(!t)return!0;var i=e(n);return i.length?t===i.val():t===n},priority:256},euvatin:{validateString:function(e,t){if(!e)return!0;return/^[A-Z][A-Z][A-Za-z0-9 -]{2,}$/.test(e)},priority:30}}};var p={};p.Form={_actualizeTriggers:function(){var e=this;this.$element.on("submit.Parsley",function(t){e.onSubmitValidate(t)}),this.$element.on("click.Parsley",r._SubmitSelector,function(t){e.onSubmitButton(t)}),!1!==this.options.uiEnabled&&this.element.setAttribute("novalidate","")},focus:function(){if(this._focusedField=null,!0===this.validationResult||"none"===this.options.focus)return null;for(var e=0;e<this.fields.length;e++){var t=this.fields[e];if(!0!==t.validationResult&&t.validationResult.length>0&&void 0===t.options.noFocus&&(this._focusedField=t.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}},p.Field={_reflowUI:function(){if(this._buildUI(),this._ui){var e=function diffResults(e,t,n){for(var i=[],r=[],s=0;s<e.length;s++){for(var a=!1,o=0;o<t.length;o++)if(e[s].assert.name===t[o].assert.name){a=!0;break}a?r.push(e[s]):i.push(e[s])}return{kept:r,added:i,removed:n?[]:diffResults(t,e,!0).added}}(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(e),this._actualizeTriggers(),!e.kept.length&&!e.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function(){if(!0===this.validationResult)return[];for(var e=[],t=0;t<this.validationResult.length;t++)e.push(this.validationResult[t].errorMessage||this._getErrorMessage(this.validationResult[t].assert));return e},addError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.message,i=t.assert,r=t.updateClass,s=void 0===r||r;this._buildUI(),this._addError(e,{message:n,assert:i}),s&&this._errorClass()},updateError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.message,i=t.assert,r=t.updateClass,s=void 0===r||r;this._buildUI(),this._updateError(e,{message:n,assert:i}),s&&this._errorClass()},removeError:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).updateClass,n=void 0===t||t;this._buildUI(),this._removeError(e),n&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():this.validationResult.length>0?this._errorClass():this._resetClass()},_manageErrorsMessages:function(t){if(void 0===this.options.errorsMessagesDisabled){if(void 0!==this.options.errorMessage)return t.added.length||t.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(e(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var n=0;n<t.removed.length;n++)this._removeError(t.removed[n].assert.name);for(n=0;n<t.added.length;n++)this._addError(t.added[n].assert.name,{message:t.added[n].errorMessage,assert:t.added[n].assert});for(n=0;n<t.kept.length;n++)this._updateError(t.kept[n].assert.name,{message:t.kept[n].errorMessage,assert:t.kept[n].assert})}},_addError:function(t,n){var i=n.message,r=n.assert;this._insertErrorWrapper(),this._ui.$errorClassHandler.attr("aria-describedby",this._ui.errorsWrapperId),this._ui.$errorsWrapper.addClass("filled").append(e(this.options.errorTemplate).addClass("parsley-"+t).html(i||this._getErrorMessage(r)))},_updateError:function(e,t){var n=t.message,i=t.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(n||this._getErrorMessage(i))},_removeError:function(e){this._ui.$errorClassHandler.removeAttr("aria-describedby"),this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove()},_getErrorMessage:function(e){var t=e.name+"Message";return void 0!==this.options[t]?window.Parsley.formatMessage(this.options[t],e.requirements):window.Parsley.getErrorMessage(e)},_buildUI:function(){if(!this._ui&&!1!==this.options.uiEnabled){var t={};this.element.setAttribute(this.options.namespace+"id",this.__id__),t.$errorClassHandler=this._manageClassHandler(),t.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),t.$errorsWrapper=e(this.options.errorsWrapper).attr("id",t.errorsWrapperId),t.lastValidationResult=[],t.validationInformationVisible=!1,this._ui=t}},_manageClassHandler:function(){if("string"==typeof this.options.classHandler&&e(this.options.classHandler).length)return e(this.options.classHandler);var t=this.options.classHandler;if("string"==typeof this.options.classHandler&&"function"==typeof window[this.options.classHandler]&&(t=window[this.options.classHandler]),"function"==typeof t){var n=t.call(this,this);if(void 0!==n&&n.length)return n}else{if("object"===_typeof(t)&&t instanceof jQuery&&t.length)return t;t&&r.warn("The class handler `"+t+"` does not exist in DOM nor as a global JS function")}return this._inputHolder()},_inputHolder:function(){return this.options.multiple&&"SELECT"!==this.element.nodeName?this.$element.parent():this.$element},_insertErrorWrapper:function(){var t=this.options.errorsContainer;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof t){if(e(t).length)return e(t).append(this._ui.$errorsWrapper);"function"==typeof window[t]?t=window[t]:r.warn("The errors container `"+t+"` does not exist in DOM nor as a global JS function")}return"function"==typeof t&&(t=t.call(this,this)),"object"===_typeof(t)&&t.length?t.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function(){var e,t=this,n=this._findRelated();n.off(".Parsley"),this._failedOnce?n.on(r.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){t._validateIfNeeded()}):(e=r.namespaceEvents(this.options.trigger,"Parsley"))&&n.on(e,function(e){t._validateIfNeeded(e)})},_validateIfNeeded:function(e){var t=this;e&&/key|input/.test(e.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout(function(){return t.validate()},this.options.debounce)):this.validate())},_resetUI:function(){this._failedOnce=!1,this._actualizeTriggers(),void 0!==this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI(),void 0!==this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}};var f=function(t,n,i){this.__class__="Form",this.element=t,this.$element=e(t),this.domOptions=n,this.options=i,this.parent=window.Parsley,this.fields=[],this.validationResult=null},m={pending:null,resolved:!0,rejected:!1};f.prototype={onSubmitValidate:function(e){var t=this;if(!0!==e.parsley){var n=this._submitSource||this.$element.find(r._SubmitSelector)[0];if(this._submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!n||null===n.getAttribute("formnovalidate")){window.Parsley._remoteCache={};var i=this.whenValidate({event:e});"resolved"===i.state()&&!1!==this._trigger("submit")||(e.stopImmediatePropagation(),e.preventDefault(),"pending"===i.state()&&i.done(function(){t._submit(n)}))}}},onSubmitButton:function(e){this._submitSource=e.currentTarget},_submit:function(t){if(!1!==this._trigger("submit")){if(t){var n=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===n.length&&(n=e('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),n.attr({name:t.getAttribute("name"),value:t.getAttribute("value")})}this.$element.trigger(_extends(e.Event("submit"),{parsley:!0}))}},validate:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){r.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var n=Array.prototype.slice.call(arguments);t={group:n[0],force:n[1],event:n[2]}}return m[this.whenValidate(t).state()]},whenValidate:function(){var t,n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=i.group,a=i.force,o=i.event;this.submitEvent=o,o&&(this.submitEvent=_extends({},o,{preventDefault:function(){r.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),n.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var l=this._withoutReactualizingFormOptions(function(){return e.map(n.fields,function(e){return e.whenValidate({force:a,group:s})})});return(t=r.all(l).done(function(){n._trigger("success")}).fail(function(){n.validationResult=!1,n.focus(),n._trigger("error")}).always(function(){n._trigger("validated")})).pipe.apply(t,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){r.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var n=Array.prototype.slice.call(arguments);t={group:n[0],force:n[1]}}return m[this.whenValid(t).state()]},whenValid:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.group,s=n.force;this._refreshFields();var a=this._withoutReactualizingFormOptions(function(){return e.map(t.fields,function(e){return e.whenValid({group:i,force:s})})});return r.all(a)},refresh:function(){return this._refreshFields(),this},reset:function(){for(var e=0;e<this.fields.length;e++)this.fields[e].reset();this._trigger("reset")},destroy:function(){this._destroyUI();for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var t=this,n=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){t.$element.find(t.options.inputs).not(t.options.excluded).not("[".concat(t.options.namespace,"excluded=true]")).each(function(e,n){var i=new window.Parsley.Factory(n,{},t);if("Field"===i.__class__||"FieldMultiple"===i.__class__){var r=i.__class__+"-"+i.__id__;void 0===t.fieldsMappedById[r]&&(t.fieldsMappedById[r]=i,t.fields.push(i))}}),e.each(r.difference(n,t.fields),function(e,t){t.reset()})}),this},_withoutReactualizingFormOptions:function(e){var t=this.actualizeOptions;this.actualizeOptions=function(){return this};var n=e();return this.actualizeOptions=t,n},_trigger:function(e){return this.trigger("form:"+e)}};var v=function(e,t,n,i,r){var s=window.Parsley._validatorRegistry.validators[t],a=new o(s);_extends(this,{validator:a,name:t,requirements:n,priority:i=i||e.options[t+"Priority"]||a.priority,isDomConstraint:r=!0===r}),this._parseRequirements(e.options)};v.prototype={validate:function(e,t){var n;return(n=this.validator).validate.apply(n,[e].concat(_toConsumableArray(this.requirementList),[t]))},_parseRequirements:function(e){var t=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(n){return e[t.name+(i=n,i[0].toUpperCase()+i.slice(1))];var i})}};var y=function(t,n,i,r){this.__class__="Field",this.element=t,this.$element=e(t),void 0!==r&&(this.parent=r),this.options=i,this.domOptions=n,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()},g={pending:null,resolved:!0,rejected:!1};y.prototype={validate:function(t){arguments.length>=1&&!e.isPlainObject(t)&&(r.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),t={options:t});var n=this.whenValidate(t);if(!n)return!0;switch(n.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.force,r=n.group;if(this.refresh(),!r||this._isInGroup(r))return this.value=this.getValue(),this._trigger("validate"),(e=this.whenValid({force:i,value:this.value,_refreshed:!0}).always(function(){t._reflowUI()}).done(function(){t._trigger("success")}).fail(function(){t._trigger("error")}).always(function(){t._trigger("validated")})).pipe.apply(e,_toConsumableArray(this._pipeAccordingToValidationResult()))},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(e){return void 0===e&&(e=this.getValue()),!(!e.length&&!this._isRequired()&&void 0===this.options.validateIfEmpty)},_isInGroup:function(t){return Array.isArray(this.options.group)?-1!==e.inArray(t,this.options.group):this.options.group===t},isValid:function(t){if(arguments.length>=1&&!e.isPlainObject(t)){r.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var n=Array.prototype.slice.call(arguments);t={force:n[0],value:n[1]}}var i=this.whenValid(t);return!i||g[i.state()]},whenValid:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.force,s=void 0!==i&&i,a=n.value,o=n.group;if(n._refreshed||this.refresh(),!o||this._isInGroup(o)){if(this.validationResult=!0,!this.hasConstraints())return e.when();if(void 0!==a&&null!==a||(a=this.getValue()),!this.needsValidation(a)&&!0!==s)return e.when();var l=this._getGroupedConstraints(),u=[];return e.each(l,function(n,i){var s=r.all(e.map(i,function(e){return t._validateConstraint(a,e)}));if(u.push(s),"rejected"===s.state())return!1}),r.all(u)}},_validateConstraint:function(t,n){var i=this,s=n.validate(t,this);return!1===s&&(s=e.Deferred().reject()),r.all([s]).fail(function(e){i.validationResult instanceof Array||(i.validationResult=[]),i.validationResult.push({assert:n,errorMessage:"string"==typeof e&&e})})},getValue:function(){var e;return void 0===(e="function"==typeof this.options.value?this.options.value(this):void 0!==this.options.value?this.options.value:this.$element.val())||null===e?"":this._handleWhitespace(e)},reset:function(){return this._resetUI(),this._trigger("reset")},destroy:function(){this._destroyUI(),this.$element.removeData("Parsley"),this.$element.removeData("FieldMultiple"),this._trigger("destroy")},refresh:function(){return this._refreshConstraints(),this},_refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},refreshConstraints:function(){return r.warnOnce("Parsley's refreshConstraints is deprecated. Please use refresh"),this.refresh()},addConstraint:function(e,t,n,i){if(window.Parsley._validatorRegistry.validators[e]){var r=new v(this,e,t,n,i);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(e){for(var t=0;t<this.constraints.length;t++)if(e===this.constraints[t].name){this.constraints.splice(t,1);break}return delete this.constraintsByName[e],this},updateConstraint:function(e,t,n){return this.removeConstraint(e).addConstraint(e,t,n)},_bindConstraints:function(){for(var e=[],t={},n=0;n<this.constraints.length;n++)!1===this.constraints[n].isDomConstraint&&(e.push(this.constraints[n]),t[this.constraints[n].name]=this.constraints[n]);for(var i in this.constraints=e,this.constraintsByName=t,this.options)this.addConstraint(i,this.options[i],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){null!==this.element.getAttribute("required")&&this.addConstraint("required",!0,void 0,!0),null!==this.element.getAttribute("pattern")&&this.addConstraint("pattern",this.element.getAttribute("pattern"),void 0,!0);var e=this.element.getAttribute("min"),t=this.element.getAttribute("max");null!==e&&null!==t?this.addConstraint("range",[e,t],void 0,!0):null!==e?this.addConstraint("min",e,void 0,!0):null!==t&&this.addConstraint("max",t,void 0,!0),null!==this.element.getAttribute("minlength")&&null!==this.element.getAttribute("maxlength")?this.addConstraint("length",[this.element.getAttribute("minlength"),this.element.getAttribute("maxlength")],void 0,!0):null!==this.element.getAttribute("minlength")?this.addConstraint("minlength",this.element.getAttribute("minlength"),void 0,!0):null!==this.element.getAttribute("maxlength")&&this.addConstraint("maxlength",this.element.getAttribute("maxlength"),void 0,!0);var n=r.getType(this.element);return"number"===n?this.addConstraint("type",["number",{step:this.element.getAttribute("step")||"1",base:e||this.element.getAttribute("value")}],void 0,!0):/^(email|url|range|date)$/i.test(n)?this.addConstraint("type",n,void 0,!0):this},_isRequired:function(){return void 0!==this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function(e){return this.trigger("field:"+e)},_handleWhitespace:function(e){return!0===this.options.trimValue&&r.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(e=e.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(e=r.trimString(e)),e},_isDateInput:function(){var e=this.constraintsByName.type;return e&&"date"===e.requirements},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var e=[],t={},n=0;n<this.constraints.length;n++){var i=this.constraints[n].priority;t[i]||e.push(t[i]=[]),t[i].push(this.constraints[n])}return e.sort(function(e,t){return t[0].priority-e[0].priority}),e}};var b=function(){this.__class__="FieldMultiple"};b.prototype={addElement:function(e){return this.$elements.push(e),this},_refreshConstraints:function(){var t;if(this.constraints=[],"SELECT"===this.element.nodeName)return this.actualizeOptions()._bindConstraints(),this;for(var n=0;n<this.$elements.length;n++)if(e("html").has(this.$elements[n]).length){t=this.$elements[n].data("FieldMultiple")._refreshConstraints().constraints;for(var i=0;i<t.length;i++)this.addConstraint(t[i].name,t[i].requirements,t[i].priority,t[i].isDomConstraint)}else this.$elements.splice(n,1);return this},getValue:function(){if("function"==typeof this.options.value)return this.options.value(this);if(void 0!==this.options.value)return this.options.value;if("INPUT"===this.element.nodeName){var t=r.getType(this.element);if("radio"===t)return this._findRelated().filter(":checked").val()||"";if("checkbox"===t){var n=[];return this._findRelated().filter(":checked").each(function(){n.push(e(this).val())}),n}}return"SELECT"===this.element.nodeName&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}};var _=function(t,n,i){this.element=t,this.$element=e(t);var r=this.$element.data("Parsley");if(r)return void 0!==i&&r.parent===window.Parsley&&(r.parent=i,r._resetOptions(r.options)),"object"===_typeof(n)&&_extends(r.options,n),r;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if(void 0!==i&&"Form"!==i.__class__)throw new Error("Parent instance must be a Form instance");return this.parent=i||window.Parsley,this.init(n)};_.prototype={init:function(e){return this.__class__="Parsley",this.__version__="2.9.1",this.__id__=r.generateID(),this._resetOptions(e),"FORM"===this.element.nodeName||r.checkAttr(this.element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){var e=r.getType(this.element);return"radio"===e||"checkbox"===e||"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple")},handleMultiple:function(){var t,n,i=this;if(this.options.multiple=this.options.multiple||(t=this.element.getAttribute("name"))||this.element.getAttribute("id"),"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return r.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),t&&e('input[name="'+t+'"]').each(function(e,t){var n=r.getType(t);"radio"!==n&&"checkbox"!==n||t.setAttribute(i.options.namespace+"multiple",i.options.multiple)});for(var s=this._findRelated(),a=0;a<s.length;a++)if(void 0!==(n=e(s.get(a)).data("Parsley"))){this.$element.data("FieldMultiple")||n.addElement(this.$element);break}return this.bind("parsleyField",!0),n||this.bind("parsleyFieldMultiple")},bind:function(t,n){var i;switch(t){case"parsleyForm":i=e.extend(new f(this.element,this.domOptions,this.options),new a,window.ParsleyExtend)._bindFields();break;case"parsleyField":i=e.extend(new y(this.element,this.domOptions,this.options,this.parent),new a,window.ParsleyExtend);break;case"parsleyFieldMultiple":i=e.extend(new y(this.element,this.domOptions,this.options,this.parent),new b,new a,window.ParsleyExtend)._init();break;default:throw new Error(t+"is not a supported Parsley type")}return this.options.multiple&&r.setAttr(this.element,this.options.namespace,"multiple",this.options.multiple),void 0!==n?(this.$element.data("FieldMultiple",i),i):(this.$element.data("Parsley",i),i._actualizeTriggers(),i._trigger("init"),i)}};var w=e.fn.jquery.split(".");if(parseInt(w[0])<=1&&parseInt(w[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";w.forEach||r.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var E=_extends(new a,{element:document,$element:e(document),actualizeOptions:null,_resetOptions:null,Factory:_,version:"2.9.1"});_extends(y.prototype,p.Field,a.prototype),_extends(f.prototype,p.Form,a.prototype),_extends(_.prototype,a.prototype),e.fn.parsley=e.fn.psly=function(t){if(this.length>1){var n=[];return this.each(function(){n.push(e(this).parsley(t))}),n}if(0!=this.length)return new _(this[0],t)},void 0===window.ParsleyExtend&&(window.ParsleyExtend={}),E.options=_extends(r.objectCreate(s),window.ParsleyConfig),window.ParsleyConfig=E.options,window.Parsley=window.psly=E,E.Utils=r,window.ParsleyUtils={},e.each(r,function(e,t){"function"==typeof t&&(window.ParsleyUtils[e]=function(){return r.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."),r[e].apply(r,arguments)})});var A=window.Parsley._validatorRegistry=new l(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},e.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator hasValidator".split(" "),function(e,t){window.Parsley[t]=function(){return A[t].apply(A,arguments)},window.ParsleyValidator[t]=function(){var e;return r.warnOnce("Accessing the method '".concat(t,"' through Validator is deprecated. Simply call 'window.Parsley.").concat(t,"(...)'")),(e=window.Parsley)[t].apply(e,arguments)}}),window.Parsley.UI=p,window.ParsleyUI={removeError:function(e,t,n){var i=!0!==n;return r.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e.removeError(t,{updateClass:i})},getErrorsMessages:function(e){return r.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."),e.getErrorsMessages()}},e.each("addError updateError".split(" "),function(e,t){window.ParsleyUI[t]=function(e,n,i,s,a){var o=!0!==a;return r.warnOnce("Accessing UI is deprecated. Call '".concat(t,"' on the instance directly. Please comment in issue 1073 as to your need to call this method.")),e[t](n,{message:i,assert:s,updateClass:o})}}),!1!==window.ParsleyConfig.autoBind&&e(function(){e("[data-parsley-validate]").length&&e("[data-parsley-validate]").parsley()});var C=e({}),x=function(){r.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")};function adapt(e,t){return e.parsleyAdaptedCallback||(e.parsleyAdaptedCallback=function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(this),e.apply(t||C,n)}),e.parsleyAdaptedCallback}var T="parsley:";function eventName(e){return 0===e.lastIndexOf(T,0)?e.substr(T.length):e}return e.listen=function(e,t){var n;if(x(),"object"===_typeof(arguments[1])&&"function"==typeof arguments[2]&&(n=arguments[1],t=arguments[2]),"function"!=typeof t)throw new Error("Wrong parameters");window.Parsley.on(eventName(e),adapt(t,n))},e.listenTo=function(e,t,n){if(x(),!(e instanceof y||e instanceof f))throw new Error("Must give Parsley instance");if("string"!=typeof t||"function"!=typeof n)throw new Error("Wrong parameters");e.on(eventName(t),adapt(n))},e.unsubscribe=function(e,t){if(x(),"string"!=typeof e||"function"!=typeof t)throw new Error("Wrong arguments");window.Parsley.off(eventName(e),t.parsleyAdaptedCallback)},e.unsubscribeTo=function(e,t){if(x(),!(e instanceof y||e instanceof f))throw new Error("Must give Parsley instance");e.off(eventName(t))},e.unsubscribeAll=function(t){x(),window.Parsley.off(eventName(t)),e("form,input,textarea,select").each(function(){var n=e(this).data("Parsley");n&&n.off(eventName(t))})},e.emit=function(e,t){var n;x();var i=t instanceof y||t instanceof f,r=Array.prototype.slice.call(arguments,i?2:1);r.unshift(eventName(e)),i||(t=window.Parsley),(n=t).trigger.apply(n,_toConsumableArray(r))},e.extend(!0,E,{asyncValidators:{default:{fn:function(e){return e.status>=200&&e.status<300},url:!1},reverse:{fn:function(e){return e.status<200||e.status>=300},url:!1}},addAsyncValidator:function(e,t,n,i){return E.asyncValidators[e]={fn:t,url:n||!1,options:i||{}},this}}),E.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(t,n,i,r){var s,a,o={},l=i.validator||(!0===i.reverse?"reverse":"default");if(void 0===E.asyncValidators[l])throw new Error("Calling an undefined async validator: `"+l+"`");(n=E.asyncValidators[l].url||n).indexOf("{value}")>-1?n=n.replace("{value}",encodeURIComponent(t)):o[r.element.getAttribute("name")||r.element.getAttribute("id")]=t;var u=e.extend(!0,i.options||{},E.asyncValidators[l].options);s=e.extend(!0,{},{url:n,data:o,type:"GET"},u),r.trigger("field:ajaxoptions",r,s),a=e.param(s),void 0===E._remoteCache&&(E._remoteCache={});var d=E._remoteCache[a]=E._remoteCache[a]||e.ajax(s),h=function(){var t=E.asyncValidators[l].fn.call(r,d,n,i);return t||(t=e.Deferred().reject()),e.when(t)};return d.then(h,h)},priority:-1}),E.on("form:submit",function(){E._remoteCache={}}),a.prototype.addAsyncValidator=function(){return r.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),E.addAsyncValidator.apply(E,arguments)},E.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same.",euvatin:"It's not a valid VAT Identification Number."}),E.setLocale("en"),(new function(){var n=this,i=window||t;_extends(this,{isNativeEvent:function(e){return e.originalEvent&&!1!==e.originalEvent.isTrusted},fakeInputEvent:function(t){n.isNativeEvent(t)&&e(t.target).trigger("input")},misbehaves:function(t){n.isNativeEvent(t)&&(n.behavesOk(t),e(document).on("change.inputevent",t.data.selector,n.fakeInputEvent),n.fakeInputEvent(t))},behavesOk:function(t){n.isNativeEvent(t)&&e(document).off("input.inputevent",t.data.selector,n.behavesOk).off("change.inputevent",t.data.selector,n.misbehaves)},install:function(){if(!i.inputEventPatched){i.inputEventPatched="0.0.3";for(var t=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],r=0;r<t.length;r++){var s=t[r];e(document).on("input.inputevent",s,{selector:s},n.behavesOk).on("change.inputevent",s,{selector:s},n.misbehaves)}}},uninstall:function(){delete i.inputEventPatched,e(document).off(".inputevent")}})}).install(),E},e.exports=i(n(17))}).call(t,n(56))}});
//# sourceMappingURL=18-18.js.map