webpackJsonp([9],{204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),a=n.n(i),s=n(31),l=n.n(s),r=n(13),o=n(637),u=n(921),c=n(979),d=n.n(c),h=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var f=function(e){return e.split(",").map(function(e){return e.trim()}).filter(function(e){return e.match(/^[a-zA-Z]+$/)})},p=function(e,t){return t.indexOf(e)>-1},m=function(e,t){var n={type:t,value:e};return a()(a()(d()(n)).html())},v=function(){function SearchByIngredient(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SearchByIngredient),this.$searchByIngredientForm=e,this.$tagList=e.find(".tag-list"),this.$searchButton=e.find(".search-button"),this.$keywordInput=e.find(".keywords"),this.$includeButton=e.find(".add-include"),this.$excludeButton=e.find(".add-exclude"),this.$includeInput=e.find(".include-ingredients"),this.$excludeInput=e.find(".exclude-ingredients"),this.included=[],this.excluded=[]}return h(SearchByIngredient,[{key:"handleEvents",value:function(){l()(r.s).subscribe(this.onKeyUp.bind(this)),l()(r.d).subscribe(this.onClick.bind(this))}},{key:"onClick",value:function(e,t){return n.i(o.a)(t,this.$searchButton)?(e.preventDefault(),this.submit()):n.i(o.a)(t,this.$includeButton)?(e.preventDefault(),this.addIncludedItem()):n.i(o.a)(t,this.$excludeButton)?(e.preventDefault(),this.addExcludedItem()):t.closest(".filter-included").length?(e.preventDefault(),e.stopPropagation(),this.removeIncludedItem(t.closest(".filter-included"))):t.closest(".filter-excluded").length?(e.preventDefault(),e.stopPropagation(),this.removeExcludedItem(t.closest(".filter-excluded"))):null}},{key:"onKeyUp",value:function(e,t){return n.i(o.a)(t,this.$keywordInput)&&(""===this.$keywordInput.val().trim()?this.$keywordInput.closest(".primary").addClass("error"):this.$keywordInput.closest(".primary").removeClass("error")),null}},{key:"addToIncluded",value:function(e){var t=this,n=e.filter(function(e){return!p(e,t.included)});this.included=this.included.concat(n),n.forEach(function(e){return t.$tagList.append(m(e,"included"))})}},{key:"addToExcluded",value:function(e){var t=this,n=e.filter(function(e){return!p(e,t.excluded)});this.excluded=this.excluded.concat(n),n.forEach(function(e){return t.$tagList.append(m(e,"excluded"))})}},{key:"addIncludedItem",value:function(){this.addToIncluded(f(this.$includeInput.val())),this.$includeInput.val(null)}},{key:"addExcludedItem",value:function(){this.addToExcluded(f(this.$excludeInput.val())),this.$excludeInput.val(null)}},{key:"removeIncludedItem",value:function(e){var t=e.find(".search-tag").text();e.remove(),this.removeFromIncluded(t)}},{key:"removeExcludedItem",value:function(e){var t=e.find(".search-tag").text();e.remove(),this.removeFromExcluded(t)}},{key:"removeFromIncluded",value:function(e){this.included.splice(this.included.indexOf(e),1)}},{key:"removeFromExcluded",value:function(e){this.excluded.splice(this.excluded.indexOf(e),1)}},{key:"submit",value:function(){var e=f(this.$keywordInput.val()).join(",");if(e.length>0){this.$keywordInput.closest(".primary").removeClass("error"),this.addIncludedItem(),this.addExcludedItem();var t="https://www.allrecipes.com/search/results/?WT="+e+"&IngIncl="+this.included.join(",")+"&ingExcl="+this.excluded.join(",")+"&sort=re";window.location.href=t}else this.$keywordInput.closest(".primary").addClass("error"),this.$keywordInput.focus()}},{key:"init",value:function(){this.$keywordInput.val(null),this.$includeInput.val(null),this.$excludeInput.val(null),this.handleEvents()}}]),SearchByIngredient}();t.default=function(){var e=new v(a()(".component.search-by-ingredient"));if(l()(r.K).subscribe(function(){return e.init()}),u.a.isMobileTabletLayout()){var t=a()(".search-by-ingredient-menu-item"),i=t.find(".expand-trigger"),s=t.find(".search-by-ingredient-mobile-show"),c=t.find(".search-by-ingredient-mobile-hide"),d=t.find(".search-by-ingredient-mobile");i.hide(),l()(r.d).subscribe(function(e,t){return n.i(o.a)(t,s)?(e.preventDefault(),e.stopPropagation(),d.addClass("show"),s.hide(),c.show(),null):n.i(o.a)(t,c)?(e.preventDefault(),e.stopPropagation(),d.removeClass("show"),s.show(),c.hide(),null):t.closest(".search-by-ingredient-menu-item").length||t.closest(".submenu-children").length?(e.preventDefault(),e.stopPropagation(),null):null})}}},205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),a=n.n(i),s=n(31),l=n.n(s),r=n(13),o=n(637),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var c=function(){function SearchResultsForm(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SearchResultsForm),this.$context=e,this.$htmlForm=this.$context.find(".search-results-html-form"),this.$searchField=this.$context.find(".search-field"),this.$facetMenus=this.$context.find(".facet-menu"),this.$facetMenuOptions=this.$context.find(".facet-menu-options"),this.isMobile=a()(window).width()<768,this.hasChanged=!1,this.centerAllFacetMenus(),l()(r.J).subscribe(function(e,n){t.hasChanged||n.closest(".search-results-html-form").length>0&&(t.hasChanged=!0)}),l()(r.d).subscribe(function(e,n){var i=n.closest(".toggle-search-facets"),s=n.closest(t.$context.find("button.search")),l=n.closest(".search-results-form-chips .chip"),r=n.closest(".facet-menu:not(.empty)"),o=n.closest(".facet-menu-options"),u=n.closest("body > .facet-menu-options label"),c=n.closest("body > .facet-menu-options .close"),d=a()("body > .facet-menu-options"),h=a()("body > .black-out"),f=a()(".facet-menu.menu-active").length>0;if(i.length>0&&(e.preventDefault(),t.$context.find(".search-results-form-menus").removeClass("hide-on-mobile"),i.remove()),l.length>0){e.preventDefault();var p=l.attr("data-facet-field"),m=l.attr("data-facet-option");a()('.facet-menu[data-facet-field="'+p+'"]').find('input[data-facet-option="'+m+'"]').prop("checked",!1),l.remove(),t.$htmlForm.submit()}if(r.length>0&&o.length<1){var v=r.hasClass("menu-active");e.stopPropagation(),t.$facetMenus.removeClass("menu-active"),v?t.closeFacetMenu(r):t.openFacetMenu(r)}if(r.length<1&&f&&d.length<1&&s.length<1&&(t.$facetMenus.removeClass("menu-active"),t.hasChanged&&t.$htmlForm.submit()),u.length>0&&(t.hasChanged||(t.hasChanged=!0)),c.length>0&&o.length>0){e.preventDefault(),e.stopPropagation();var g=o.attr("data-facet-field"),b=t.$facetMenus.filter("[data-facet-field='"+g+"']");t.closeFacetMenu(b)}if(h.length>0&&o.length<1){e.stopPropagation();var y=t.$context.find(".facet-menu.menu-active");t.closeFacetMenu(y)}}),l()(r.l).subscribe(function(e,i){n.i(o.a)(i,t.$htmlForm)&&(e.preventDefault(),window.location.href=t.getSearchUrlFromForm())}),l()(r.n).subscribe(function(){t.isMobile=a()(window).width()<768,t.centerAllFacetMenus()})}return u(SearchResultsForm,[{key:"getSearchUrlFromForm",value:function(){var e=this.$searchField.val(),t=this.$facetMenuOptions.find("input:checked"),n=this.$htmlForm.attr("action")||"/search";n+="?q="+encodeURIComponent(e);var i={};t.each(function(e,t){var a=t.dataset.facetField,s=t.dataset.facetOption;"true"===t.dataset.facetFlattened?i[a]?i[a].push(s):i[a]=[s]:n+="&f["+e+"]="+encodeURIComponent(a+":"+s)});var a=Object.keys(i);return a.length?(a.forEach(function(e,t){i[e]&&(n+="&f["+t+"]="+encodeURIComponent(e+":"+i[e].join("|")))}),n):(this.$context.hasClass("has-ingredients")&&(n="/search/ingredient-chef"),n)}},{key:"centerAllFacetMenus",value:function(){this.isMobile?this.$facetMenuOptions.each(function(e,t){a()(t).css("margin-left","0px")}):this.$facetMenuOptions.each(function(e,t){var n=a()(t),i=n.outerWidth();n.css("margin-left",i/2*-1)})}},{key:"openFacetMenu",value:function(e){e.addClass("menu-active"),this.isMobile&&a()("body").append(e.find(".facet-menu-options")).append('<div class="black-out"></div>')}},{key:"closeFacetMenu",value:function(e){if(e.removeClass("menu-active"),this.isMobile){var t=e.attr("data-facet-field");a()("body > .facet-menu-options[data-facet-field='"+t+"']").appendTo(e),a()("body > .black-out").remove()}this.hasChanged&&this.$htmlForm.submit()}}]),SearchResultsForm}();t.default=function(){return a()(".component.search-results-form").each(function(){return new c(a()(this))})}},637:function(e,t,n){"use strict";t.a=function(e,t){return e.is(t)||t.has(e).length>0}},921:function(e,t,n){"use strict";var i=n(13),a=n(99),s=n.i(a.a)();window.addEventListener(i.a,function(){s=n.i(a.a)()}),t.a={isMobileLayout:function(){return"mobile"===s},isTabletLayout:function(){return"tablet"===s},isMobileTabletLayout:function(){return["mobile","tablet"].indexOf(s)>=0}}},979:function(e,t,n){var i=n(139);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,i,a,s){var l,r=e.lambda,o=e.escapeExpression;return'<div class="list-item '+o(r(null!=t?t.type:t,t))+'">\n  <a class="filter-action filter-'+o(r(null!=t?t.type:t,t))+'" href="#" title="Remove '+o(r(null!=t?t.value:t,t))+" "+o(r(null!=t?t.type:t,t))+' filter">\n    <span class="search-tag">'+o(r(null!=t?t.value:t,t))+'</span>\n    <span class="close-icon">'+(null!=(l=e.invokePartial(n(987),t,{name:"icons/scalable/close",hash:{width:12,height:12},data:s,helpers:i,partials:a,decorators:e.decorators}))?l:"")+"</span>\n  </a>\n</div>\n"},usePartial:!0,useData:!0})},987:function(e,t,n){var i=n(139);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var s;return'aria-label="'+e.escapeExpression("function"==typeof(s=null!=(s=n["aria-label"]||(null!=t?t["aria-label"]:t))?s:e.hooks.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"aria-label",hash:{},data:a}):s)+'"'},3:function(e,t,n,i,a){return'aria-hidden="true"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var s,l,r=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,u=e.escapeExpression;return'<svg xmlns="http://www.w3.org/2000/svg" width="'+u("function"==typeof(l=null!=(l=n.width||(null!=t?t.width:t))?l:o)?l.call(r,{name:"width",hash:{},data:a}):l)+'" height="'+u("function"==typeof(l=null!=(l=n.height||(null!=t?t.height:t))?l:o)?l.call(r,{name:"height",hash:{},data:a}):l)+'" viewBox="0 0 24 24" role="img" '+(null!=(s=n.if.call(r,null!=t?t["aria-label"]:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))?s:"")+' tabindex="-1"><path fill="#685F55" d="M11.799 11.692L21.491 2l.707.707-9.692 9.692 9.293 9.293-.707.707-9.293-9.292-8.692 8.692-.708-.707 8.693-8.693L2 3.308l.707-.707 9.092 9.091z"/></svg>\n'},useData:!0})}});
//# sourceMappingURL=9-9.js.map